{"version":3,"file":"dwvsimplistic.min.js","mappings":"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","sources":["webpack://dwv-simplistic/webpack/universalModuleDefinition","webpack://dwv-simplistic/./src/dwv-component.css","webpack://dwv-simplistic/./node_modules/css-loader/dist/runtime/api.js","webpack://dwv-simplistic/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://dwv-simplistic/external umd {\"root\":\"dwv\",\"commonjs\":\"dwv\",\"commonjs2\":\"dwv\",\"amd\":\"dwv\"}","webpack://dwv-simplistic/webpack/bootstrap","webpack://dwv-simplistic/webpack/runtime/compat get default export","webpack://dwv-simplistic/webpack/runtime/define property getters","webpack://dwv-simplistic/webpack/runtime/hasOwnProperty shorthand","webpack://dwv-simplistic/webpack/runtime/make namespace object","webpack://dwv-simplistic/./src/appgui.js","webpack://dwv-simplistic/./src/gui/dropboxLoader.js","webpack://dwv-simplistic/./src/applauncher.js","webpack://dwv-simplistic/./src/dwv-component.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"dwv\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"dwv\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"dwvsimplistic\"] = factory(require(\"dwv\"));\n\telse\n\t\troot[\"dwvsimplistic\"] = factory(root[\"dwv\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__440__) => {\nreturn ","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* progress bar */\nprogress {\n  appearance: none;\n  -webkit-appearance: none;\n  width: 100%;\n  height: 5px;\n  border: 0;\n  z-index: 100;\n}\n\n/* dwv */\n.dwv {\n  height: 80%;\n}\n.layerGroup {\n  position: relative;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  height: 100%;\n}\n.layer {\n  position: absolute;\n  pointer-events: none;\n}\n\n/* drag&drop */\n.dropBox {\n  text-align: center;\n  width: 50%; height: 75%;\n}\n.dropBoxBorder {\n  margin: 20px auto;\n  border: 5px dashed #ccc;\n}\n.dropBoxBorder:hover {\n  margin: 20px auto;\n  border: 5px dashed #cc0;\n}\n#input-file-link {\n  text-decoration-line: underline;\n}\n\n/* legend */\n.legend {\n  text-align: center;\n  font-size: 8pt;\n  margin: 1em;\n}\n\n/* toolbar */\n.toolbar {\n  font: 14px arial, sans-serif;\n  margin-bottom: 5px;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n.toolbar button, select {\n  margin: 10px 3px;\n  padding: 10px 10px;\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: 600;\n  height: 40px;\n  border: 1px solid #e0e0e0;\n  background-color: #fff;\n  color: #757575;\n}\n.toolbar button:enabled:hover, select:enabled:hover {\n  background-color: #f5f5f5;\n  cursor: pointer;\n}\n.toolbar button:disabled, select:disabled {\n  color: #bdbdbd;\n  cursor: default;\n}\n.toolbar .active {\n  background-color: #f0f1f9 !important;\n}\n.toolbar button:enabled path {\n  fill: #757575;\n}\n.toolbar button.active:enabled path {\n  fill: #4a5bb9;\n}\n.toolbar button:disabled path {\n  fill: #bdbdbd;\n}\n\n/* modal dialog */\n.modal {\n  display: none; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n\n  .modal-content {\n    background-color: #fefefe;\n    margin: 5% auto; /* 5% from the top and centered */\n    padding: 20px;\n    width: 80%;\n    height: 80%;\n    overflow: auto;\n  }\n\n  input, label {\n    vertical-align: middle;\n    margin-right: 10px;\n  }\n\n  .modal-content-scroll {\n    margin-right: 20px;\n    height: 80%;\n    overflow: auto;\n\n    table {\n      width: 100%;\n      border-collapse: collapse;\n    }\n    tr {\n      border: solid thin;\n      border-color: #ddd;\n    }\n    th {\n      text-align: left;\n    }\n    td, th {\n      padding: 10px;\n    }\n  }\n}\n\n/* color-scheme */\n@media (prefers-color-scheme: dark) {\n  .legend a {\n    color: #ccc;\n  }\n  .toolbar button, select {\n    border: 1px solid #2f2f2f;\n    background-color: #fff;\n  }\n  .toolbar button, select {\n    color: #fff;\n    background-color: #333;\n  }\n  .toolbar button:enabled:hover, select:enabled:hover {\n    background-color: #555;\n  }\n  .toolbar button:disabled, select:disabled {\n    color: #aeaeae;\n  }\n  .toolbar .active {\n    background-color: #404040 !important;\n  }\n  .toolbar button:enabled path {\n    fill: #fff;\n  }\n  .toolbar button:disabled path {\n    fill: #aeaeae;\n  }\n  .modal {\n    .modal-content {\n      background-color: #424242;\n    }\n    .modal-content-scroll {\n      tr {\n        border: solid thin;\n        border-color: #666;\n      }\n    }\n  }\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/dwv-component.css\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB;AACjB;EACE,gBAAgB;EAChB,wBAAwB;EACxB,WAAW;EACX,WAAW;EACX,SAAS;EACT,YAAY;AACd;;AAEA,QAAQ;AACR;EACE,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,uBAAuB;EACvB,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA,cAAc;AACd;EACE,kBAAkB;EAClB,UAAU,EAAE,WAAW;AACzB;AACA;EACE,iBAAiB;EACjB,uBAAuB;AACzB;AACA;EACE,iBAAiB;EACjB,uBAAuB;AACzB;AACA;EACE,+BAA+B;AACjC;;AAEA,WAAW;AACX;EACE,kBAAkB;EAClB,cAAc;EACd,WAAW;AACb;;AAEA,YAAY;AACZ;EACE,4BAA4B;EAC5B,kBAAkB;EAClB,aAAa;EACb,uBAAuB;EACvB,eAAe;AACjB;AACA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,YAAY;EACZ,yBAAyB;EACzB,sBAAsB;EACtB,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,eAAe;AACjB;AACA;EACE,cAAc;EACd,eAAe;AACjB;AACA;EACE,oCAAoC;AACtC;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;;AAEA,iBAAiB;AACjB;EACE,aAAa,EAAE,sBAAsB;EACrC,eAAe,EAAE,kBAAkB;EACnC,UAAU,EAAE,eAAe;EAC3B,OAAO;EACP,MAAM;EACN,WAAW,EAAE,eAAe;EAC5B,YAAY,EAAE,gBAAgB;EAC9B,4BAA4B,EAAE,mBAAmB;EACjD,iCAAiC,EAAE,qBAAqB;;EAExD;IACE,yBAAyB;IACzB,eAAe,EAAE,iCAAiC;IAClD,aAAa;IACb,UAAU;IACV,WAAW;IACX,cAAc;EAChB;;EAEA;IACE,sBAAsB;IACtB,kBAAkB;EACpB;;EAEA;IACE,kBAAkB;IAClB,WAAW;IACX,cAAc;;IAEd;MACE,WAAW;MACX,yBAAyB;IAC3B;IACA;MACE,kBAAkB;MAClB,kBAAkB;IACpB;IACA;MACE,gBAAgB;IAClB;IACA;MACE,aAAa;IACf;EACF;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,WAAW;EACb;EACA;IACE,yBAAyB;IACzB,sBAAsB;EACxB;EACA;IACE,WAAW;IACX,sBAAsB;EACxB;EACA;IACE,sBAAsB;EACxB;EACA;IACE,cAAc;EAChB;EACA;IACE,oCAAoC;EACtC;EACA;IACE,UAAU;EACZ;EACA;IACE,aAAa;EACf;EACA;IACE;MACE,yBAAyB;IAC3B;IACA;MACE;QACE,kBAAkB;QAClB,kBAAkB;MACpB;IACF;EACF;AACF\",\"sourcesContent\":[\"/* progress bar */\\nprogress {\\n  appearance: none;\\n  -webkit-appearance: none;\\n  width: 100%;\\n  height: 5px;\\n  border: 0;\\n  z-index: 100;\\n}\\n\\n/* dwv */\\n.dwv {\\n  height: 80%;\\n}\\n.layerGroup {\\n  position: relative;\\n  padding: 0;\\n  display: flex;\\n  justify-content: center;\\n  height: 100%;\\n}\\n.layer {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n\\n/* drag&drop */\\n.dropBox {\\n  text-align: center;\\n  width: 50%; height: 75%;\\n}\\n.dropBoxBorder {\\n  margin: 20px auto;\\n  border: 5px dashed #ccc;\\n}\\n.dropBoxBorder:hover {\\n  margin: 20px auto;\\n  border: 5px dashed #cc0;\\n}\\n#input-file-link {\\n  text-decoration-line: underline;\\n}\\n\\n/* legend */\\n.legend {\\n  text-align: center;\\n  font-size: 8pt;\\n  margin: 1em;\\n}\\n\\n/* toolbar */\\n.toolbar {\\n  font: 14px arial, sans-serif;\\n  margin-bottom: 5px;\\n  display: flex;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n}\\n.toolbar button, select {\\n  margin: 10px 3px;\\n  padding: 10px 10px;\\n  border-radius: 4px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  height: 40px;\\n  border: 1px solid #e0e0e0;\\n  background-color: #fff;\\n  color: #757575;\\n}\\n.toolbar button:enabled:hover, select:enabled:hover {\\n  background-color: #f5f5f5;\\n  cursor: pointer;\\n}\\n.toolbar button:disabled, select:disabled {\\n  color: #bdbdbd;\\n  cursor: default;\\n}\\n.toolbar .active {\\n  background-color: #f0f1f9 !important;\\n}\\n.toolbar button:enabled path {\\n  fill: #757575;\\n}\\n.toolbar button.active:enabled path {\\n  fill: #4a5bb9;\\n}\\n.toolbar button:disabled path {\\n  fill: #bdbdbd;\\n}\\n\\n/* modal dialog */\\n.modal {\\n  display: none; /* Hidden by default */\\n  position: fixed; /* Stay in place */\\n  z-index: 1; /* Sit on top */\\n  left: 0;\\n  top: 0;\\n  width: 100%; /* Full width */\\n  height: 100%; /* Full height */\\n  background-color: rgb(0,0,0); /* Fallback color */\\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\\n\\n  .modal-content {\\n    background-color: #fefefe;\\n    margin: 5% auto; /* 5% from the top and centered */\\n    padding: 20px;\\n    width: 80%;\\n    height: 80%;\\n    overflow: auto;\\n  }\\n\\n  input, label {\\n    vertical-align: middle;\\n    margin-right: 10px;\\n  }\\n\\n  .modal-content-scroll {\\n    margin-right: 20px;\\n    height: 80%;\\n    overflow: auto;\\n\\n    table {\\n      width: 100%;\\n      border-collapse: collapse;\\n    }\\n    tr {\\n      border: solid thin;\\n      border-color: #ddd;\\n    }\\n    th {\\n      text-align: left;\\n    }\\n    td, th {\\n      padding: 10px;\\n    }\\n  }\\n}\\n\\n/* color-scheme */\\n@media (prefers-color-scheme: dark) {\\n  .legend a {\\n    color: #ccc;\\n  }\\n  .toolbar button, select {\\n    border: 1px solid #2f2f2f;\\n    background-color: #fff;\\n  }\\n  .toolbar button, select {\\n    color: #fff;\\n    background-color: #333;\\n  }\\n  .toolbar button:enabled:hover, select:enabled:hover {\\n    background-color: #555;\\n  }\\n  .toolbar button:disabled, select:disabled {\\n    color: #aeaeae;\\n  }\\n  .toolbar .active {\\n    background-color: #404040 !important;\\n  }\\n  .toolbar button:enabled path {\\n    fill: #fff;\\n  }\\n  .toolbar button:disabled path {\\n    fill: #aeaeae;\\n  }\\n  .modal {\\n    .modal-content {\\n      background-color: #424242;\\n    }\\n    .modal-content-scroll {\\n      tr {\\n        border: solid thin;\\n        border-color: #666;\\n      }\\n    }\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","module.exports = __WEBPACK_EXTERNAL_MODULE__440__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {getTagFromKey} from 'dwv';\n\n// doc imports\n/* eslint-disable no-unused-vars */\nimport {App} from 'dwv';\n/* eslint-enable no-unused-vars */\n\n// icons from https://fonts.google.com/icons\n// Fill: 0 Weight: 700 Grade: 0 Optical Size: 20\n/* eslint-disable @stylistic/js/max-len */\nconst _paths = {\n  // menu\n  Scroll: 'M110-215v-118h740v118H110Zm0-206v-118h740v118H110Zm0-206v-118h740v118H110Z',\n  // search\n  ZoomAndPan: 'M763-106 517-352q-29 18-64.292 28.5T376.035-313Q267-313 190-390t-77-186q0-109 77-186t186-77q109 0 186 77t77 186.035q0 42.381-10.5 76.673T600-437l247 248-84 83ZM376-431q61 0 103-42t42-103q0-61-42-103t-103-42q-61 0-103 42t-42 103q0 61 42 103t103 42Z',\n  // contrast\n  WindowLevel: 'M480.192-62Q394-62 318-94.5q-76-32.5-133.5-90t-90-133.542Q62-394.083 62-480.542 62-567 94.5-642.5t90-133q57.5-57.5 133.542-90 76.041-32.5 162.5-32.5Q567-898 642.5-865.5t133 90q57.5 57.5 90 133.308 32.5 75.807 32.5 162Q898-394 865.5-318q-32.5 76-90 133.5t-133.308 90q-75.807 32.5-162 32.5ZM528-184q109-18 180.5-99.222T780-480q0-112.818-71.5-194.909T528-775v591Z',\n  // straighten\n  Draw: 'M183-215q-49.7 0-83.85-34.15Q65-283.3 65-333v-294q0-49.7 34.15-83.85Q133.3-745 183-745h594q49.7 0 83.85 34.15Q895-676.7 895-627v294q0 49.7-34.15 83.85Q826.7-215 777-215H183Zm0-118h594v-294H672v147h-72v-147h-84v147h-72v-147h-84v147h-72v-147H183v294Zm105-147h72-72Zm156 0h72-72Zm156 0h72-72Zm-120 0Z',\n  // refresh\n  Reset: 'M476-158q-133 0-227.5-94.5T154-480q0-133 94.5-227.5T476-802q74 0 136 30t106 82v-112h88v289H516v-87h125q-29-38-71.5-61T476-684q-85 0-144.5 59.5T272-480q0 85 59.5 144.5T476-276q78 0 134.5-52.5T677-456h121q-10 126-102 212t-220 86Z',\n  // cameraswitch\n  ToggleOrientation: 'M327-273q-35.888 0-61.444-25.556Q240-324.112 240-360v-209q0-36.3 25.15-62.15T327-657h33l48-48h144l48 48h33q36.7 0 61.85 25.85T720-569v209q0 35.888-25.556 61.444Q668.888-273 633-273H327Zm0-87h306v-209H327v209Zm153.425-40Q507-400 525.5-419.133q18.5-19.132 18.5-46Q544-492 525.075-510.5q-18.925-18.5-45.5-18.5T434.5-510.075q-18.5 18.925-18.5 45.5T434.925-419q18.925 19 45.5 19ZM336-937q35.783-11.9 73.033-17.45Q446.283-960 485-960q91 0 173.5 33.5T805-835.275q64 57.725 104.544 136.5Q950.089-620 960-528H857q-8-61-34.5-115.5t-67-97q-40.5-42.5-94-71T547-851l46 47-60 62-197-195ZM624-23q-35.783 11.9-73.033 17.45Q513.717 0 475 0q-91.92 0-174.46-33.5t-146.04-91Q91-182 49.956-261 8.91-340 0-432h103q7 61 33.5 115.5t67.5 97q41 42.5 94.5 71T413-109l-46-47 60-62L624-23ZM482-466Z',\n  // open in full\n  Fullscreen: 'M110-110v-334h118v132l420-420H516v-118h334v334H732v-132L312-228h132v118H110Z',\n  // tags\n  Tags: 'M406-405h177v-92H406v92Zm0-132h354v-92H406v92Zm0-132h354v-92H406v92Zm-51 440q-53 0-89.5-36.5T229-355v-456q0-53 36.5-89.5T355-937h456q53 0 89.5 36.5T937-811v456q0 53-36.5 89.5T811-229H355Zm0-126h456v-456H355v456ZM149-23q-53 0-89.5-36.5T23-149v-582h126v582h582v126H149Zm206-788v456-456Z'\n};\n/* eslint-enable @stylistic/js/max-len */\n\n/**\n * Get a tool html button.\n *\n * @param {string} toolName The tool name.\n * @param {Gui} appGui The associated GUi.\n * @returns {HTMLButtonElement} An HTML button element.\n */\nfunction getToolButton(toolName, appGui) {\n  const xmlns = 'http://www.w3.org/2000/svg';\n  const path = document.createElementNS(xmlns, 'path');\n  path.setAttributeNS(null, 'd', _paths[toolName]);\n  const svg = document.createElementNS(xmlns, 'svg');\n  svg.setAttributeNS(null, 'height', 20);\n  svg.setAttributeNS(null, 'width', 20);\n  svg.setAttributeNS(null, 'viewBox', '0 -960 960 960');\n  svg.appendChild(path);\n  const button = document.createElement('button');\n  button.id = appGui.getToolId(toolName);\n  button.title = toolName;\n  button.appendChild(svg);\n  // onclick callback\n  if (toolName === 'Reset') {\n    button.addEventListener('click', function () {\n      appGui.onDisplayReset();\n    });\n  } else if (toolName === 'ToggleOrientation') {\n    button.addEventListener('click', function () {\n      appGui.toggleOrientation();\n    });\n  } else if (toolName === 'Fullscreen') {\n    button.addEventListener('click', function () {\n      appGui.toggleFullScreen();\n    });\n  } else if (toolName === 'Tags') {\n    button.addEventListener('click', function () {\n      appGui.openTagsModal();\n    });\n  } else {\n    button.addEventListener('click', function () {\n      appGui.onChangeTool(toolName);\n    });\n  }\n  return button;\n}\n\n/**\n * Get a tool html select.\n *\n * @param {string} toolName The tool name.\n * @param {Gui} appGui The associated GUi.\n * @returns {HTMLSelectElement} An HTML select element.\n */\nfunction getSelect(toolName, appGui) {\n  const option = document.createElement('option');\n  option.value = '';\n  option.appendChild(document.createTextNode('Preset...'));\n  const select = document.createElement('select');\n  select.id = appGui.getToolId(toolName);\n  select.title = 'Window level presets';\n  select.appendChild(option);\n  select.addEventListener('change', function () {\n    appGui.onChangePreset(this.value);\n  });\n  return select;\n}\n\n/**\n * GUI class.\n */\nexport class Gui {\n\n  /**\n   * View this.#orientation.\n   *\n   * @type {string}\n   */\n  #orientation;\n\n  /**\n   * Layer group div height before full screen.\n   *\n   * @type {string}\n   */\n  #lgDivHeight;\n\n  /**\n   * The associated app.\n   *\n   * @type {App}\n   */\n  #app;\n\n  /**\n   * The list of tools.\n   *\n   * @type {string[]}\n   */\n  #tools;\n\n  /**\n   * The GUI UID.\n   *\n   * @type {string}\n   */\n  #uid;\n\n  /**\n   * The root document.\n   *\n   * @type {Document}\n   */\n  #rootDoc = document;\n\n  /**\n   * @param {App} app The associated app.\n   * @param {string[]} tools The list of tools.\n   * @param {string} uid The GUI unique id.\n   * @param {Document} [rootDoc] Optional root document,\n   *   defaults to `window.document`.\n   */\n  constructor(app, tools, uid, rootDoc) {\n    this.#app = app;\n    this.#tools = tools;\n    this.#uid = uid;\n    if (typeof rootDoc !== 'undefined') {\n      this.#rootDoc = rootDoc;\n    }\n  };\n\n  /**\n   * Initialise the GUI: fill the toolbar.\n   */\n  init() {\n    const toolbar = this.#rootDoc.getElementById(this.getToolbarDivId());\n    for (let i = 0; i < this.#tools.length; ++i) {\n      if (this.#tools[i] === 'WindowLevelPresets') {\n        toolbar.appendChild(getSelect(this.#tools[i], this));\n      } else {\n        toolbar.appendChild(getToolButton(this.#tools[i], this));\n      }\n    }\n  };\n\n  /**\n   * Show the progress bar: adds a progress to the\n   *   layerGroup div.\n   */\n  showProgressBar() {\n    const progress = document.createElement('progress');\n    progress.id = 'progress-' + this.#uid;\n    progress.max = '100';\n    progress.value = '0';\n\n    const lg = this.#rootDoc.getElementById(this.getToolbarDivId());\n    lg.appendChild(progress);\n  };\n\n  /**\n   * Set the progress: updates the progress bar,\n   *   hides it if percent is 100.\n   *\n   * @param {number} percent The progess percent.\n   */\n  setProgress(percent) {\n    const progress = this.#rootDoc.getElementById('progress-' + this.#uid);\n    if (progress) {\n      if (percent === 100) {\n        // remove\n        progress.remove();\n      } else {\n        // update value\n        progress.value = percent;\n      }\n    }\n  };\n\n  /**\n   * Get the dwv div id.\n   *\n   * @returns {string} The id.\n   */\n  getDwvDivId() {\n    return 'dwv-' + this.#uid;\n  };\n\n  /**\n   * Get the layer group div id.\n   *\n   * @returns {string} The id.\n   */\n  getLayerGroupDivId() {\n    return 'layerGroup-' + this.#uid;\n  };\n\n  /**\n   * Get the toolbar div id.\n   *\n   * @returns {string} The id.\n   */\n  getToolbarDivId() {\n    return 'toolbar-' + this.#uid;\n  };\n\n  /**\n   * Get a tool id from its name.\n   *\n   * @param {string} toolName Tool name.\n   * @returns {string} The id.\n   */\n  getToolId(toolName) {\n    return toolName.toLowerCase() + '-' + this.#uid;\n  };\n\n  /**\n   * Enable or not a tool.\n   *\n   * @param {string} name The tool name.\n   * @param {boolean} flag True to enable.\n   */\n  enableTool(name, flag) {\n    const toolId = this.getToolId(name);\n    this.#rootDoc.getElementById(toolId).disabled = !flag;\n  };\n\n  /**\n   * Enable or not all tools.\n   *\n   * @param {boolean} flag True to enable.\n   */\n  enableTools(flag) {\n    for (let i = 0; i < this.#tools.length; ++i) {\n      this.enableTool(this.#tools[i], flag);\n    }\n  };\n\n  /**\n   * Activate or not a tool.\n   *\n   * @param {string} name The tool name.\n   * @param {boolean} flag True to activate.\n   */\n  activateTool(name, flag) {\n    const toolId = this.getToolId(name);\n    if (flag) {\n      this.#rootDoc.getElementById(toolId).classList.add('active');\n    } else {\n      this.#rootDoc.getElementById(toolId).classList.remove('active');\n    }\n  };\n\n  /**\n   * Activate or not all tool.\n   *\n   * @param {boolean} flag True to activate.\n   */\n  activateTools(flag) {\n    for (let i = 0; i < this.#tools.length; ++i) {\n      this.activateTool(this.#tools[i], flag);\n    }\n  };\n\n  /**\n   * Handle preset change.\n   *\n   * @param {string} name The name of the new preset.\n   */\n  onChangePreset(name) {\n    // update viewer\n    this.#app.setWindowLevelPreset(name);\n    // set selected\n    this.setSelectedPreset(name);\n  };\n\n  /**\n   * Handle tool change.\n   *\n   * @param {string} name The name of the new tool.\n   */\n  onChangeTool(name) {\n    this.activateTools(false);\n    this.activateTool(name, true);\n    this.#app.setTool(name);\n    if (name === 'Draw') {\n      this.#app.setToolFeatures({shapeName: 'Ruler'});\n    }\n  };\n\n  /**\n   * Handle display reset.\n   */\n  onDisplayReset() {\n    this.#app.resetDisplay();\n    // reset preset dropdown\n    const presetsId = this.getToolId('WindowLevelPresets');\n    const domPresets = this.#rootDoc.getElementById(presetsId);\n    domPresets.selectedIndex = 0;\n  };\n\n  /**\n   * Toggle the viewer this.#orientation.\n   */\n  toggleOrientation() {\n    if (typeof this.#orientation !== 'undefined') {\n      if (this.#orientation === 'axial') {\n        this.#orientation = 'coronal';\n      } else if (this.#orientation === 'coronal') {\n        this.#orientation = 'sagittal';\n      } else if (this.#orientation === 'sagittal') {\n        this.#orientation = 'axial';\n      }\n    } else {\n      // default is most probably axial\n      this.#orientation = 'coronal';\n    }\n    // update data view config\n    const config = {\n      '*': [\n        {\n          divId: this.getLayerGroupDivId(),\n          orientation: this.#orientation\n        }\n      ]\n    };\n    this.#app.setDataViewConfigs(config);\n    // render data\n    const dataIds = this.#app.getDataIds();\n    for (let i = 0; i < dataIds.length; ++i) {\n      this.#app.render(dataIds[i]);\n    }\n  };\n\n  /**\n   * Toogle full screen on and off.\n   */\n  toggleFullScreen() {\n    const lgDivId = this.getLayerGroupDivId();\n    const lgElement = this.#rootDoc.getElementById(lgDivId);\n\n    // the app listens on window resize (see applaucher\n    // `window.addEventListener('resize', dwvApp.onResize);`)\n    // -> no need to manually call app.fitToContainer\n\n    if (!document.fullscreenElement) {\n      const fsDivId = this.getDwvDivId();\n      const fsElement = this.#rootDoc.getElementById(fsDivId);\n      fsElement.requestFullscreen().then(() => {\n        // if the layer group height was 0, the app set it to a fixed size.\n        // change it to 100% to trigger a resize and recalculate the\n        // fit scale to occupy the full screen\n        this.#lgDivHeight = lgElement.style.height;\n        lgElement.style.height = '100%';\n      });\n    } else if (document.exitFullscreen) {\n      document.exitFullscreen();\n      // restore previous height\n      lgElement.style.height = this.#lgDivHeight;\n    }\n  };\n\n  /**\n   * Open a DICOM tags modal.\n   */\n  openTagsModal() {\n    // modal\n    const modalDiv = document.createElement('div');\n    modalDiv.className = 'modal';\n    modalDiv.id = 'modal-' + this.#uid;\n    modalDiv.style.display = 'block';\n    // close on outside click\n    this.#rootDoc.addEventListener('click', function (event) {\n      if (event.target === modalDiv) {\n        modalDiv.style.display = 'none';\n      }\n    });\n\n    const modalContentDiv = document.createElement('div');\n    modalContentDiv.className = 'modal-content';\n    modalContentDiv.id = 'modal-content-' + this.#uid;\n    modalDiv.appendChild(modalContentDiv);\n\n    const modalTitle = document.createElement('h2');\n    modalTitle.appendChild(document.createTextNode('DICOM Tags'));\n    modalContentDiv.appendChild(modalTitle);\n\n    // div with enabled scroll\n    const modalScrollDiv = document.createElement('div');\n    modalScrollDiv.className = 'modal-content-scroll';\n\n    const metaData = this.#app.getMetaData('0');\n\n    // InstanceNumber\n    const instanceElement = metaData['00200013'];\n    let instanceNumbers;\n    if (typeof instanceElement !== 'undefined') {\n      // set slider with instance numbers ('00200013')\n      let instanceNumberValue = instanceElement.value;\n      if (typeof instanceNumberValue === 'string') {\n        instanceNumberValue = [instanceNumberValue];\n      }\n      // convert string to numbers\n      instanceNumbers = instanceNumberValue.map(Number);\n      // sort\n      instanceNumbers.sort(function (a, b) {\n        return a - b;\n      });\n    }\n\n    let instanceNumber = instanceNumbers[0];\n\n    const slider = document.createElement('input');\n    slider.type = 'range';\n    slider.id = 'instancenumber-slider-' + this.#uid;\n    slider.min = 0;\n    slider.max = instanceNumbers.length - 1;\n    slider.value = 0;\n    slider.title = 'Instance Number';\n    const sliderLabel = document.createElement('label');\n    sliderLabel.id = 'instancenumber-slider-label-' + this.#uid;\n    sliderLabel.for = slider.id;\n    sliderLabel.appendChild(document.createTextNode(instanceNumber));\n    sliderLabel.title = slider.title;\n\n    const sliderLine = document.createElement('p');\n    sliderLine.appendChild(slider);\n    sliderLine.appendChild(sliderLabel);\n    modalContentDiv.appendChild(sliderLine);\n\n    slider.addEventListener('input', function (event) {\n      instanceNumber = instanceNumbers[event.target.value];\n      const metaArr = getMetaArray(metaData, instanceNumber);\n      const metaTab = arrayToHtmlTable(metaArr);\n      modalScrollDiv.replaceChildren(metaTab);\n      sliderLabel.replaceChildren(document.createTextNode(instanceNumber));\n    });\n\n    // get meta data html table\n    const metaArray = getMetaArray(metaData, instanceNumber);\n    const metaTable = arrayToHtmlTable(metaArray);\n    modalScrollDiv.appendChild(metaTable);\n    modalContentDiv.appendChild(modalScrollDiv);\n\n    // global container\n    const container = this.#rootDoc.getElementById(this.getDwvDivId());\n    container.appendChild(modalDiv);\n  };\n\n  /**\n   * Update preset dropdown.\n   *\n   * @param {string[]} presets The list of presets to use as options.\n   */\n  updatePresets(presets) {\n    const presetsId = this.getToolId('WindowLevelPresets');\n    const domPresets = this.#rootDoc.getElementById(presetsId);\n    // clear previous\n    while (domPresets.hasChildNodes()) {\n      domPresets.removeChild(domPresets.firstChild);\n    }\n    // add new\n    for (let i = 0; i < presets.length; ++i) {\n      const option = document.createElement('option');\n      option.value = presets[i];\n      const label = presets[i];\n      option.appendChild(document.createTextNode(label));\n      domPresets.appendChild(option);\n    }\n  };\n\n  /**\n   * Set the selected preset in the preset dropdown.\n   *\n   * @param {string} name The name of the preset to select.\n   */\n  setSelectedPreset(name) {\n    const presetsId = this.getToolId('WindowLevelPresets');\n    const domPresets = this.#rootDoc.getElementById(presetsId);\n    // find the index\n    let index = 0;\n    for (index in domPresets.options) {\n      if (domPresets.options[index].value === name) {\n        break;\n      }\n    }\n    // set selected\n    domPresets.selectedIndex = index;\n  };\n\n}; // class Gui\n\n/**\n * Get an HTML table from a string array.\n *\n * @param {string[]} arr The input array.\n * @returns {HTMLTableElement} The HTML table element.\n */\nfunction arrayToHtmlTable(arr) {\n  const table = document.createElement('table');\n  let row;\n  let cell;\n\n  // check input\n  if (typeof arr === 'undefined' ||\n    arr.length === 0) {\n    row = table.insertRow(-1);\n    cell = document.createElement('td');\n    cell.appendChild(document.createTextNode('Empty input array...'));\n    row.appendChild(cell);\n    return table;\n  }\n\n  // extract keys from first element\n  const item0 = arr[0];\n  const keys = Object.keys(item0);\n\n  // table body\n  for (let i = 0; i < arr.length; ++i) {\n    row = table.insertRow(-1);\n    for (let j = 0; j < keys.length; ++j) {\n      cell = document.createElement('td');\n      cell.appendChild(document.createTextNode(arr[i][keys[j]]));\n      row.appendChild(cell);\n    }\n  }\n  // table head\n  const thead = table.createTHead();\n  const th = thead.insertRow(-1);\n  for (let k = 0; k < keys.length; ++k) {\n    const hcell = document.createElement('th');\n    let key = keys[k];\n    key = key.charAt(0).toUpperCase() + key.slice(1);\n    hcell.appendChild(document.createTextNode(key));\n    th.appendChild(hcell);\n  }\n\n  return table;\n}\n\n/**\n * Get the meta data as an array.\n *\n * @param {any} meta The meta data.\n * @param {number} instanceNumber The instance number.\n * @returns {string[]} The meta data as a flat string array.\n */\nfunction getMetaArray(meta, instanceNumber) {\n  let reducer;\n  if (isDicomMeta(meta)) {\n    reducer = getDicomTagReducer(meta, instanceNumber, '');\n  } else {\n    reducer = getTagReducer(meta);\n  }\n  const keys = Object.keys(meta);\n  return keys.reduce(reducer, []);\n}\n\n/**\n * Check if a meta data is a dicom one.\n *\n * @param {any} meta The dicom meta data.\n * @returns {boolean} True if the meta data is a DICOM one.\n */\nfunction isDicomMeta(meta) {\n  // true if it has a Transfer Syntax\n  return typeof meta['00020010'] !== 'undefined';\n}\n\n/**\n * Get a simple data array reducer.\n *\n * @param {any} tagData Simple data with a 'value' property.\n * @returns {Function} The data recuder.\n */\nfunction getTagReducer(tagData) {\n  return function (accumulator, currentValue) {\n    accumulator.push({\n      name: currentValue,\n      value: tagData[currentValue].value\n    });\n    return accumulator;\n  };\n}\n\n/**\n * Get a DICOM data array reducer.\n *\n * @param {any} tagData DICOM data.\n * @param {number} instanceNumber The instance number.\n * @param {string} prefix The prefix.\n * @returns {Function} The data reducer.\n */\nfunction getDicomTagReducer(tagData, instanceNumber, prefix) {\n  return function (accumulator, currentValue) {\n    const tag = getTagFromKey(currentValue);\n    let key = tag.getNameFromDictionary();\n    if (typeof key === 'undefined') {\n      // add 'x' to help sorting\n      key = 'x' + tag.getKey();\n    }\n    const name = key;\n    const element = tagData[currentValue];\n    let value = element.value;\n    // possible 'merged' object\n    // (use slice method as test for array and typed array)\n    if (typeof value.slice === 'undefined' &&\n      typeof value[instanceNumber] !== 'undefined') {\n      value = value[instanceNumber];\n    }\n    // force instance number (otherwise takes value in non indexed array)\n    if (name === 'InstanceNumber') {\n      value = instanceNumber;\n    }\n    // recurse for sequence\n    if (element.vr === 'SQ') {\n      // sequence tag\n      accumulator.push({\n        name: (prefix ? prefix + ' ' : '') + name,\n        value: ''\n      });\n      // sequence value\n      for (let i = 0; i < value.length; ++i) {\n        const sqItems = value[i];\n        const keys = Object.keys(sqItems);\n        const res = keys.reduce(\n          getDicomTagReducer(\n            sqItems, instanceNumber, prefix + '[' + i + ']'), []\n        );\n        accumulator = accumulator.concat(res);\n      }\n    } else {\n      // shorten long 'o'ther data\n      if (element.vr[0] === 'O' && value.length > 10) {\n        value = value.slice(0, 10).toString() +\n          '... (len:' + value.length + ')';\n      }\n      accumulator.push({\n        name: (prefix ? prefix + ' ' : '') + name,\n        value: value.toString()\n      });\n    }\n    return accumulator;\n  };\n}\n","// doc imports\n/* eslint-disable no-unused-vars */\nimport {App} from 'dwv';\n/* eslint-enable no-unused-vars */\n\n/**\n * Dropbox loader.\n * Listens to drag events on the layer container and\n *   uses a drop box element as first display.\n */\nexport class DropboxLoader {\n\n  /**\n   * The associated app.\n   *\n   * @type {App}\n   */\n  #app;\n\n  /**\n   * The GUI UID.\n   *\n   * @type {string}\n   */\n  #uid;\n\n  /**\n   * The root document.\n   *\n   * @type {Document}\n   */\n  #rootDoc = document;\n\n  // drop box class name\n  #dropboxDivId = 'dropBox';\n  #dropboxClassName = 'dropBox';\n  #borderClassName = 'dropBoxBorder';\n  #hoverClassName = 'hover';\n\n  /**\n   * @param {App} app The associated application.\n   * @param {string} uid The GUI UID.\n   * @param {Document} [rootDoc] Optional root document,\n   *   defaults to `window.document`.\n   */\n  constructor(app, uid, rootDoc) {\n    this.#app = app;\n    this.#uid = uid;\n    if (typeof rootDoc !== 'undefined') {\n      this.#rootDoc = rootDoc;\n    }\n  }\n\n  /**\n   * Initialise the drop box.\n   */\n  init() {\n    this.showDropbox(true);\n  };\n\n  /**\n   * Basic handle drag event.\n   *\n   * @param {object} event The event to handle.\n   */\n  #defaultHandleDragEvent = (event) => {\n    // prevent default handling\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * Handle a drag over.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onBoxDragOver = (event) => {\n    this.#defaultHandleDragEvent(event);\n    // update box border\n    const box = this.#rootDoc.getElementById(this.#dropboxDivId);\n    if (box && box.className.indexOf(this.#hoverClassName) === -1) {\n      box.className += ' ' + this.#hoverClassName;\n    }\n  };\n\n  /**\n   * Handle a drag leave.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onBoxDragLeave = (event) => {\n    this.#defaultHandleDragEvent(event);\n    // update box border\n    const box = this.#rootDoc.getElementById(this.#dropboxDivId);\n    if (box && box.className.indexOf(this.#hoverClassName) !== -1) {\n      box.className = box.className.replace(' ' + this.#hoverClassName, '');\n    }\n  };\n\n  /**\n   * Handle a drop event.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onDrop = (event) => {\n    this.#defaultHandleDragEvent(event);\n    // load files\n    this.#app.loadFiles(event.dataTransfer.files);\n  };\n\n  /**\n   * Handle a an input[type:file] change event.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onInputFile = (event) => {\n    if (event.target && event.target.files) {\n      this.#app.loadFiles(event.target.files);\n    }\n  };\n\n  /**\n   * Show or hide the data load drop box.\n   *\n   * @param {boolean} show Flag to show or hide.\n   */\n  showDropbox(show) {\n    const box = this.#rootDoc.getElementById(this.#dropboxDivId);\n    if (!box) {\n      return;\n    }\n    const layerDiv = this.#rootDoc.getElementById('layerGroup-' + this.#uid);\n\n    if (show) {\n      // reset css class\n      box.className = this.#dropboxClassName + ' ' + this.#borderClassName;\n      // add content if empty\n      if (box.innerHTML === '') {\n        const p = document.createElement('p');\n        p.appendChild(document.createTextNode('Drag and drop data here or '));\n        // input file\n        const input = document.createElement('input');\n        input.onchange = this.#onInputFile;\n        input.type = 'file';\n        input.multiple = true;\n        input.id = 'input-file';\n        input.style.display = 'none';\n        const label = document.createElement('label');\n        label.htmlFor = 'input-file';\n        const link = document.createElement('a');\n        link.appendChild(document.createTextNode('click here'));\n        link.id = 'input-file-link';\n        label.appendChild(link);\n        p.appendChild(input);\n        p.appendChild(label);\n\n        box.appendChild(p);\n      }\n      // show box\n      box.setAttribute('style', 'display:initial');\n      // stop layer listening\n      if (layerDiv) {\n        layerDiv.removeEventListener('dragover', this.#defaultHandleDragEvent);\n        layerDiv.removeEventListener('dragleave', this.#defaultHandleDragEvent);\n        layerDiv.removeEventListener('drop', this.#onDrop);\n      }\n      // listen to box events\n      box.addEventListener('dragover', this.#onBoxDragOver);\n      box.addEventListener('dragleave', this.#onBoxDragLeave);\n      box.addEventListener('drop', this.#onDrop);\n    } else {\n      // remove border css class\n      box.className = this.#dropboxClassName;\n      // remove content\n      box.innerHTML = '';\n      // hide box\n      box.setAttribute('style', 'display:none');\n      // stop box listening\n      box.removeEventListener('dragover', this.#onBoxDragOver);\n      box.removeEventListener('dragleave', this.#onBoxDragLeave);\n      box.removeEventListener('drop', this.#onDrop);\n      // listen to layer events\n      if (layerDiv) {\n        layerDiv.addEventListener('dragover', this.#defaultHandleDragEvent);\n        layerDiv.addEventListener('dragleave', this.#defaultHandleDragEvent);\n        layerDiv.addEventListener('drop', this.#onDrop);\n      }\n    }\n  };\n}; // class DropboxLoader\n","import {\n  App,\n  WindowLevel\n} from 'dwv';\n\nimport {Gui} from './appgui';\nimport {DropboxLoader} from './gui/dropboxLoader';\n\n/**\n * Application launcher.\n *\n * @param {string} uid The app uid.\n * @param {object} options Start options:\n * - uri (string): an URI with search parameters,\n * - urls (string[]): list of urls to load,\n * - wlpreset (object): default window level preset.\n * @param {Document} [rootDoc] Optional root document,\n *   defaults to `window.document`.\n */\nexport function startApp(uid, options, rootDoc) {\n  // app options\n  const appOptions = {\n    dataViewConfigs: {'*': [{divId: 'layerGroup-' + uid}]},\n    tools: {\n      Scroll: {},\n      ZoomAndPan: {},\n      WindowLevel: {},\n      Draw: {\n        options: ['Ruler']\n      }\n    }\n  };\n  if (typeof rootDoc !== 'undefined') {\n    appOptions.rootDocument = rootDoc;\n  }\n  // main application\n  const dwvApp = new App();\n  dwvApp.init(appOptions);\n\n  // app gui\n  const guiTools = Object.keys(appOptions.tools);\n  const wlIndex = guiTools.indexOf('WindowLevel');\n  if (wlIndex !== -1) {\n    guiTools.splice(wlIndex + 1, 0, 'WindowLevelPresets');\n  }\n  guiTools.push('Reset');\n  guiTools.push('ToggleOrientation');\n  guiTools.push('Fullscreen');\n  guiTools.push('Tags');\n  const dwvAppGui = new Gui(dwvApp, guiTools, uid, rootDoc);\n  dwvAppGui.init();\n  dwvAppGui.enableTools(false);\n\n  // abort shortcut listener\n  const abortOnCrtlX = function (event) {\n    if (event.ctrlKey && event.keyCode === 88) {\n      // crtl-x\n      console.log('Abort load received from user (crtl-x).');\n      dwvApp.abortLoad();\n    }\n  };\n\n  // handle load events\n  let nLoadItem;\n  let nReceivedLoadError;\n  let nReceivedLoadAbort;\n  let isFirstRender;\n  dwvApp.addEventListener('loadstart', function (/*event*/) {\n    // reset counts\n    nLoadItem = 0;\n    nReceivedLoadError = 0;\n    nReceivedLoadAbort = 0;\n    isFirstRender = true;\n    // allow to cancel via crtl-x\n    window.addEventListener('keydown', abortOnCrtlX);\n    // show progress bar\n    dwvAppGui.showProgressBar();\n  });\n  dwvApp.addEventListener('loadprogress', function (event) {\n    const percent = Math.ceil(event.loaded * 100 / event.total);\n    // set progress (hides the bar is percent=100)\n    dwvAppGui.setProgress(percent);\n  });\n  dwvApp.addEventListener('load', function (/*event*/) {\n    // force hidding in case 100% progress was not sent\n    dwvAppGui.setProgress(100);\n  });\n  dwvApp.addEventListener('loaditem', function (/*event*/) {\n    ++nLoadItem;\n  });\n  dwvApp.addEventListener('renderend', function (/*event*/) {\n    if (isFirstRender) {\n      isFirstRender = false;\n      // enable tools\n      dwvAppGui.enableTools(true);\n      // set the selected tool\n      let selectedTool = 'ZoomAndPan';\n      if (dwvApp.canScroll()) {\n        selectedTool = 'Scroll';\n      } else {\n        dwvAppGui.enableTool('Scroll', false);\n      }\n      if (!dwvApp.canWindowLevel()) {\n        dwvAppGui.enableTool('WindowLevel', false);\n      }\n      dwvApp.setTool(selectedTool);\n      dwvAppGui.activateTool(selectedTool, true);\n      // update presets\n      const lg = dwvApp.getActiveLayerGroup();\n      const vl = lg.getActiveViewLayer();\n      const viewController = vl.getViewController();\n      // optional wl preset\n      let hasExtraPreset = false;\n      let wlpreset;\n      if (typeof options !== 'undefined' &&\n        typeof options.wlpreset !== 'undefined') {\n        hasExtraPreset = true;\n        wlpreset = options.wlpreset;\n        const presets = {};\n        presets[wlpreset.name] = {\n          wl: [new WindowLevel(wlpreset.center, wlpreset.width)],\n          name: wlpreset.name\n        };\n        viewController.addWindowLevelPresets(presets);\n      }\n      // update GUI\n      dwvAppGui.updatePresets(\n        viewController.getWindowLevelPresetsNames()\n      );\n      // select optional preset\n      if (hasExtraPreset) {\n        viewController.setWindowLevelPreset(wlpreset.name);\n        dwvAppGui.setSelectedPreset(options.wlpreset.name);\n      }\n    }\n  });\n  dwvApp.addEventListener('error', function (event) {\n    console.error(event.error);\n    ++nReceivedLoadError;\n  });\n  dwvApp.addEventListener('abort', function (/*event*/) {\n    ++nReceivedLoadAbort;\n  });\n  dwvApp.addEventListener('loadend', function (/*event*/) {\n    // show alert for errors\n    if (nReceivedLoadError) {\n      let message = 'A load error has ';\n      if (nReceivedLoadError > 1) {\n        message = nReceivedLoadError + ' load errors have ';\n      }\n      message += 'occured. See log for details.';\n      alert(message);\n    }\n    // console warn for aborts\n    if (nReceivedLoadAbort !== 0) {\n      console.warn('Data load was aborted.');\n    }\n    // stop listening for crtl-x\n    window.removeEventListener('keydown', abortOnCrtlX);\n  });\n\n  // setup drop box\n  const dropBoxLoader = new DropboxLoader(dwvApp, uid, rootDoc);\n  dropBoxLoader.init();\n  // show/hide drop box\n  dwvApp.addEventListener('loadstart', function (/*event*/) {\n    // hide drop box\n    dropBoxLoader.showDropbox(false);\n  });\n  dwvApp.addEventListener('loadend', function (/*event*/) {\n    // show the drop box if no item were received or\n    // if the load was aborted\n    if (!nLoadItem ||\n      nReceivedLoadAbort !== 0) {\n      dropBoxLoader.showDropbox(true);\n    }\n  });\n\n  // handle key events\n  dwvApp.addEventListener('keydown', function (event) {\n    dwvApp.defaultOnKeydown(event);\n  });\n  // handle window resize\n  window.addEventListener('resize', dwvApp.onResize);\n\n  // listen to 'wlchange'\n  dwvApp.addEventListener('wlchange', function (/*event*/) {\n    // update presets (in case new was added)\n    const lg = dwvApp.getActiveLayerGroup();\n    const vl = lg.getActiveViewLayer();\n    const viewController = vl.getViewController();\n    dwvAppGui.updatePresets(\n      viewController.getWindowLevelPresetsNames()\n    );\n    // suppose it is a manual change so switch preset to manual\n    dwvAppGui.setSelectedPreset('manual');\n  });\n\n  // load from options if defined\n  if (typeof options !== 'undefined') {\n    if (typeof options.uri !== 'undefined') {\n      dwvApp.loadFromUri(options.uri);\n    } else if (typeof options.urls !== 'undefined') {\n      dwvApp.loadURLs(options.urls);\n    } else {\n      dropBoxLoader.showDropbox(true);\n    }\n  } else {\n    dropBoxLoader.showDropbox(true);\n  }\n};\n","import {getDwvVersion} from 'dwv';\nimport {startApp} from './applauncher';\n\nimport styles from './dwv-component.css';\n\n/**\n * DWV component: display DICOM data using DWV (DICOM Web Viewer).\n * Possible arguments are:\n * - uri: an input string URI to load the data from,\n * - urls: comma separated list of urls to load the data from,\n * - showLegend: (optional) show or not the legend (defaults to false),\n * - wlpresetname, wlpresetcenter and wlpresetwidth: (optional) used\n *   to start the viewer with a specific window level setting\n *   (only applied if all three values are present).\n *\n * A dropbox is shown if no uri nor urls are provided, it allows to\n * manually load dicom data from the local system.\n *\n * Ref: {@link https://github.com/ivmartel/dwv}.\n *\n * @example\n * <dwv-simple showLegend=\"true\"></dwv-simple>\n * @example\n * <dwv-simple\n *   uri=\"https://www.demo.com/index.html?input=file.dcm\"\n * ></dwv-simple>\n * @example\n * <dwv-simple\n *   urls=\"\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323851.dcm,\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323707.dcm\n *   \"\n * ></dwv-simple>\n * @example\n * <dwv-simple\n *   urls=\"\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323851.dcm,\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323707.dcm\n *   \"\n *   wlpresetname=\"preset0\"\n *   wlpresetcenter=\"0\"\n *   wlpresetwidth=\"2500\"\n * ></dwv-simple>\n */\nexport class DwvComponent extends HTMLElement {\n  constructor() {\n    // Always call super first in constructor\n    super();\n  }\n\n  connectedCallback() {\n    const appId = 'simple0';\n\n    // main container\n    const container = document.createElement('div');\n    container.id = 'dwv-' + appId;\n    container.className = 'dwv';\n\n    // toolbar\n    const toolbar = document.createElement('div');\n    toolbar.id = 'toolbar-' + appId;\n    toolbar.className = 'toolbar';\n\n    // layer group\n    const layerGroup = document.createElement('div');\n    layerGroup.id = 'layerGroup-' + appId;\n    layerGroup.className = 'layerGroup';\n    const dropBox = document.createElement('div');\n    dropBox.id = 'dropBox';\n    layerGroup.appendChild(dropBox);\n\n    // fill container\n    container.appendChild(toolbar);\n    container.appendChild(layerGroup);\n\n    // legend\n    if (this.hasAttribute('showLegend') &&\n      this.getAttribute('showLegend') === 'true') {\n      const dwvLink = document.createElement('a');\n      dwvLink.href = 'https://github.com/ivmartel/dwv';\n      dwvLink.title = 'dwv on github';\n      dwvLink.appendChild(document.createTextNode('dwv'));\n\n      const para = document.createElement('p');\n      para.appendChild(document.createTextNode('Powered by '));\n      para.appendChild(dwvLink);\n      para.appendChild(document.createTextNode(\n        ' ' + getDwvVersion() + '.'));\n\n      const legend = document.createElement('div');\n      legend.id = 'legend-' + appId;\n      legend.className = 'legend';\n      legend.appendChild(para);\n\n      container.appendChild(legend);\n    }\n\n    // style\n    const stylesheet = document.createElement('style');\n    stylesheet.innerHTML = styles.toString();\n\n    // shadow root\n    const shadow = this.attachShadow({mode: 'open'});\n    shadow.appendChild(stylesheet);\n    shadow.appendChild(container);\n\n    // create options from attributes\n    const options = {};\n    if (this.hasAttribute('uri')) {\n      options.uri = this.getAttribute('uri');\n    } else if (this.hasAttribute('urls')) {\n      const trimItem = function (item) {\n        return item.trim();\n      };\n      options.urls = this.getAttribute('urls').split(',').map(trimItem);\n    }\n    if (this.hasAttribute('wlpresetname') &&\n      this.hasAttribute('wlpresetcenter') &&\n      this.hasAttribute('wlpresetwidth')) {\n      options.wlpreset = {\n        name: this.getAttribute('wlpresetname'),\n        center: this.getAttribute('wlpresetcenter'),\n        width: this.getAttribute('wlpresetwidth')\n      };\n    }\n\n    // start app\n    startApp(appId, options, shadow);\n  }\n\n}\n\n// Define the new element\ncustomElements.define('dwv-simple', DwvComponent);\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__440__","___CSS_LOADER_EXPORT___","push","id","cssWithMappingToString","list","toString","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value","_paths","Scroll","ZoomAndPan","WindowLevel","Draw","Reset","ToggleOrientation","Fullscreen","Tags","getToolButton","toolName","appGui","xmlns","path","document","createElementNS","setAttributeNS","svg","appendChild","button","createElement","getToolId","title","addEventListener","onDisplayReset","toggleOrientation","toggleFullScreen","openTagsModal","onChangeTool","getSelect","option","createTextNode","select","onChangePreset","_orientation","WeakMap","_lgDivHeight","_app","_tools","_uid","_rootDoc","Gui","app","tools","uid","rootDoc","_classCallCheck","_classPrivateFieldInitSpec","_classPrivateFieldSet","toolbar","_classPrivateFieldGet","getElementById","getToolbarDivId","progress","max","percent","remove","toLowerCase","name","flag","toolId","disabled","enableTool","classList","add","activateTool","setWindowLevelPreset","setSelectedPreset","activateTools","setTool","setToolFeatures","shapeName","resetDisplay","presetsId","selectedIndex","config","divId","getLayerGroupDivId","orientation","setDataViewConfigs","dataIds","getDataIds","render","_this","lgDivId","lgElement","fullscreenElement","exitFullscreen","style","height","fsDivId","getDwvDivId","requestFullscreen","then","modalDiv","className","display","event","target","modalContentDiv","modalTitle","modalScrollDiv","instanceNumbers","metaData","getMetaData","instanceElement","instanceNumberValue","Number","sort","b","instanceNumber","slider","type","min","sliderLabel","sliderLine","metaTab","arrayToHtmlTable","getMetaArray","replaceChildren","metaTable","presets","domPresets","hasChildNodes","removeChild","firstChild","label","index","options","arr","row","cell","table","insertRow","item0","keys","j","th","createTHead","hcell","charAt","toUpperCase","slice","meta","reducer","tagData","isDicomMeta","getDicomTagReducer","accumulator","currentValue","reduce","prefix","tag","getTagFromKey","getNameFromDictionary","getKey","element","vr","sqItems","res","_dropboxDivId","_dropboxClassName","_borderClassName","_hoverClassName","_defaultHandleDragEvent","_onBoxDragOver","_onBoxDragLeave","_onDrop","_onInputFile","DropboxLoader","stopPropagation","preventDefault","box","indexOf","replace","loadFiles","dataTransfer","files","showDropbox","show","layerDiv","innerHTML","p","input","onchange","multiple","htmlFor","link","setAttribute","removeEventListener","startApp","appOptions","dataViewConfigs","rootDocument","dwvApp","App","init","guiTools","wlIndex","splice","dwvAppGui","enableTools","nLoadItem","nReceivedLoadError","nReceivedLoadAbort","isFirstRender","abortOnCrtlX","ctrlKey","keyCode","console","log","abortLoad","window","showProgressBar","Math","ceil","loaded","total","setProgress","selectedTool","canScroll","canWindowLevel","wlpreset","viewController","getActiveLayerGroup","getActiveViewLayer","getViewController","hasExtraPreset","wl","center","width","addWindowLevelPresets","updatePresets","getWindowLevelPresetsNames","error","message","alert","warn","dropBoxLoader","defaultOnKeydown","onResize","uri","loadFromUri","urls","loadURLs","DwvComponent","_HTMLElement","_callSuper","_inherits","appId","container","layerGroup","dropBox","hasAttribute","getAttribute","dwvLink","href","para","getDwvVersion","legend","stylesheet","styles","shadow","attachShadow","mode","split","trim","_wrapNativeSuper","HTMLElement","customElements"],"sourceRoot":""}