{"version":3,"file":"dwvsimplistic.min.js","mappings":"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","sources":["webpack://dwv-simplistic/./node_modules/css-loader/dist/runtime/api.js","webpack://dwv-simplistic/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://dwv-simplistic/./src/dwv-component.css","webpack://dwv-simplistic/webpack/bootstrap","webpack://dwv-simplistic/webpack/runtime/compat get default export","webpack://dwv-simplistic/webpack/runtime/define property getters","webpack://dwv-simplistic/webpack/runtime/hasOwnProperty shorthand","webpack://dwv-simplistic/external module \"dwv\"","webpack://dwv-simplistic/./src/appgui.js","webpack://dwv-simplistic/./src/gui/dropboxLoader.js","webpack://dwv-simplistic/./src/applauncher.js","webpack://dwv-simplistic/./src/dwv-component.js"],"sourcesContent":["\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `/* progress bar */\nprogress {\n  appearance: none;\n  -webkit-appearance: none;\n  width: 100%;\n  height: 5px;\n  border: 0;\n  z-index: 100;\n}\n\n/* dwv */\n.dwv {\n  display: flex;\n  flex-direction: column;\n}\n.layerGroup {\n  position: relative;\n  padding: 0;\n  display: flex;\n  justify-content: center;\n  /* occupy space left by toolbar and legend */\n  flex: 1;\n}\n.layer {\n  position: absolute;\n  pointer-events: none;\n}\n\n/* drag&drop */\n.dropBox {\n  text-align: center;\n  width: 50%; height: 75%;\n}\n.dropBoxBorder {\n  margin: 20px auto;\n  border: 5px dashed #ccc;\n}\n.dropBoxBorder:hover {\n  margin: 20px auto;\n  border: 5px dashed #cc0;\n}\n#input-file-link {\n  text-decoration-line: underline;\n}\n\n/* legend */\n.legend {\n  text-align: center;\n  font-size: 8pt;\n  margin: 1em;\n}\n\n/* toolbar */\n.toolbar {\n  font: 14px arial, sans-serif;\n  margin-bottom: 5px;\n  display: flex;\n  justify-content: center;\n  flex-wrap: wrap;\n}\n.toolbar button, .toolbar select {\n  margin: 10px 3px;\n  padding: 10px 10px;\n  border-radius: 4px;\n  font-size: 16px;\n  font-weight: 600;\n  height: 40px;\n  border: 1px solid #e0e0e0;\n  background-color: #fff;\n  color: #757575;\n}\n.toolbar button:enabled:hover, .toolbar select:enabled:hover {\n  background-color: #f5f5f5;\n  cursor: pointer;\n}\n.toolbar button:disabled, .toolbar select:disabled {\n  color: #bdbdbd;\n  cursor: default;\n}\n.toolbar .active {\n  background-color: #f0f1f9 !important;\n}\n.toolbar button:enabled path {\n  fill: #757575;\n}\n.toolbar button.active:enabled path {\n  fill: #4a5bb9;\n}\n.toolbar button:disabled path {\n  fill: #bdbdbd;\n}\n\n/* modal dialog */\n.modal {\n  display: none; /* Hidden by default */\n  position: fixed; /* Stay in place */\n  z-index: 1; /* Sit on top */\n  left: 0;\n  top: 0;\n  width: 100%; /* Full width */\n  height: 100%; /* Full height */\n  background-color: rgb(0,0,0); /* Fallback color */\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\n\n  .modal-content {\n    background-color: #fefefe;\n    margin: 5% auto; /* 5% from the top and centered */\n    padding: 20px;\n    width: 80%;\n    height: 80%;\n    overflow: auto;\n  }\n\n  input, label {\n    vertical-align: middle;\n    margin-right: 10px;\n  }\n\n  .modal-content-scroll {\n    margin-right: 20px;\n    height: 80%;\n    overflow: auto;\n\n    table {\n      width: 100%;\n      border-collapse: collapse;\n    }\n    tr {\n      border: solid thin;\n      border-color: #ddd;\n    }\n    th {\n      text-align: left;\n    }\n    td, th {\n      padding: 10px;\n    }\n  }\n}\n\n/* color-scheme */\n@media (prefers-color-scheme: dark) {\n  .legend a {\n    color: #ccc;\n  }\n  .toolbar button, .toolbar select {\n    border: 1px solid #2f2f2f;\n    background-color: #fff;\n  }\n  .toolbar button, .toolbar select {\n    color: #fff;\n    background-color: #333;\n  }\n  .toolbar button:enabled:hover, .toolbar select:enabled:hover {\n    background-color: #555;\n  }\n  .toolbar button:disabled, .toolbar select:disabled {\n    color: #aeaeae;\n  }\n  .toolbar .active {\n    background-color: #404040 !important;\n  }\n  .toolbar button:enabled path {\n    fill: #fff;\n  }\n  .toolbar button:disabled path {\n    fill: #aeaeae;\n  }\n  .modal {\n    .modal-content {\n      background-color: #424242;\n    }\n    .modal-content-scroll {\n      tr {\n        border: solid thin;\n        border-color: #666;\n      }\n    }\n  }\n}`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/dwv-component.css\"],\"names\":[],\"mappings\":\"AAAA,iBAAiB;AACjB;EACE,gBAAgB;EAChB,wBAAwB;EACxB,WAAW;EACX,WAAW;EACX,SAAS;EACT,YAAY;AACd;;AAEA,QAAQ;AACR;EACE,aAAa;EACb,sBAAsB;AACxB;AACA;EACE,kBAAkB;EAClB,UAAU;EACV,aAAa;EACb,uBAAuB;EACvB,4CAA4C;EAC5C,OAAO;AACT;AACA;EACE,kBAAkB;EAClB,oBAAoB;AACtB;;AAEA,cAAc;AACd;EACE,kBAAkB;EAClB,UAAU,EAAE,WAAW;AACzB;AACA;EACE,iBAAiB;EACjB,uBAAuB;AACzB;AACA;EACE,iBAAiB;EACjB,uBAAuB;AACzB;AACA;EACE,+BAA+B;AACjC;;AAEA,WAAW;AACX;EACE,kBAAkB;EAClB,cAAc;EACd,WAAW;AACb;;AAEA,YAAY;AACZ;EACE,4BAA4B;EAC5B,kBAAkB;EAClB,aAAa;EACb,uBAAuB;EACvB,eAAe;AACjB;AACA;EACE,gBAAgB;EAChB,kBAAkB;EAClB,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,YAAY;EACZ,yBAAyB;EACzB,sBAAsB;EACtB,cAAc;AAChB;AACA;EACE,yBAAyB;EACzB,eAAe;AACjB;AACA;EACE,cAAc;EACd,eAAe;AACjB;AACA;EACE,oCAAoC;AACtC;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;AACA;EACE,aAAa;AACf;;AAEA,iBAAiB;AACjB;EACE,aAAa,EAAE,sBAAsB;EACrC,eAAe,EAAE,kBAAkB;EACnC,UAAU,EAAE,eAAe;EAC3B,OAAO;EACP,MAAM;EACN,WAAW,EAAE,eAAe;EAC5B,YAAY,EAAE,gBAAgB;EAC9B,4BAA4B,EAAE,mBAAmB;EACjD,iCAAiC,EAAE,qBAAqB;;EAExD;IACE,yBAAyB;IACzB,eAAe,EAAE,iCAAiC;IAClD,aAAa;IACb,UAAU;IACV,WAAW;IACX,cAAc;EAChB;;EAEA;IACE,sBAAsB;IACtB,kBAAkB;EACpB;;EAEA;IACE,kBAAkB;IAClB,WAAW;IACX,cAAc;;IAEd;MACE,WAAW;MACX,yBAAyB;IAC3B;IACA;MACE,kBAAkB;MAClB,kBAAkB;IACpB;IACA;MACE,gBAAgB;IAClB;IACA;MACE,aAAa;IACf;EACF;AACF;;AAEA,iBAAiB;AACjB;EACE;IACE,WAAW;EACb;EACA;IACE,yBAAyB;IACzB,sBAAsB;EACxB;EACA;IACE,WAAW;IACX,sBAAsB;EACxB;EACA;IACE,sBAAsB;EACxB;EACA;IACE,cAAc;EAChB;EACA;IACE,oCAAoC;EACtC;EACA;IACE,UAAU;EACZ;EACA;IACE,aAAa;EACf;EACA;IACE;MACE,yBAAyB;IAC3B;IACA;MACE;QACE,kBAAkB;QAClB,kBAAkB;MACpB;IACF;EACF;AACF\",\"sourcesContent\":[\"/* progress bar */\\nprogress {\\n  appearance: none;\\n  -webkit-appearance: none;\\n  width: 100%;\\n  height: 5px;\\n  border: 0;\\n  z-index: 100;\\n}\\n\\n/* dwv */\\n.dwv {\\n  display: flex;\\n  flex-direction: column;\\n}\\n.layerGroup {\\n  position: relative;\\n  padding: 0;\\n  display: flex;\\n  justify-content: center;\\n  /* occupy space left by toolbar and legend */\\n  flex: 1;\\n}\\n.layer {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n\\n/* drag&drop */\\n.dropBox {\\n  text-align: center;\\n  width: 50%; height: 75%;\\n}\\n.dropBoxBorder {\\n  margin: 20px auto;\\n  border: 5px dashed #ccc;\\n}\\n.dropBoxBorder:hover {\\n  margin: 20px auto;\\n  border: 5px dashed #cc0;\\n}\\n#input-file-link {\\n  text-decoration-line: underline;\\n}\\n\\n/* legend */\\n.legend {\\n  text-align: center;\\n  font-size: 8pt;\\n  margin: 1em;\\n}\\n\\n/* toolbar */\\n.toolbar {\\n  font: 14px arial, sans-serif;\\n  margin-bottom: 5px;\\n  display: flex;\\n  justify-content: center;\\n  flex-wrap: wrap;\\n}\\n.toolbar button, .toolbar select {\\n  margin: 10px 3px;\\n  padding: 10px 10px;\\n  border-radius: 4px;\\n  font-size: 16px;\\n  font-weight: 600;\\n  height: 40px;\\n  border: 1px solid #e0e0e0;\\n  background-color: #fff;\\n  color: #757575;\\n}\\n.toolbar button:enabled:hover, .toolbar select:enabled:hover {\\n  background-color: #f5f5f5;\\n  cursor: pointer;\\n}\\n.toolbar button:disabled, .toolbar select:disabled {\\n  color: #bdbdbd;\\n  cursor: default;\\n}\\n.toolbar .active {\\n  background-color: #f0f1f9 !important;\\n}\\n.toolbar button:enabled path {\\n  fill: #757575;\\n}\\n.toolbar button.active:enabled path {\\n  fill: #4a5bb9;\\n}\\n.toolbar button:disabled path {\\n  fill: #bdbdbd;\\n}\\n\\n/* modal dialog */\\n.modal {\\n  display: none; /* Hidden by default */\\n  position: fixed; /* Stay in place */\\n  z-index: 1; /* Sit on top */\\n  left: 0;\\n  top: 0;\\n  width: 100%; /* Full width */\\n  height: 100%; /* Full height */\\n  background-color: rgb(0,0,0); /* Fallback color */\\n  background-color: rgba(0,0,0,0.4); /* Black w/ opacity */\\n\\n  .modal-content {\\n    background-color: #fefefe;\\n    margin: 5% auto; /* 5% from the top and centered */\\n    padding: 20px;\\n    width: 80%;\\n    height: 80%;\\n    overflow: auto;\\n  }\\n\\n  input, label {\\n    vertical-align: middle;\\n    margin-right: 10px;\\n  }\\n\\n  .modal-content-scroll {\\n    margin-right: 20px;\\n    height: 80%;\\n    overflow: auto;\\n\\n    table {\\n      width: 100%;\\n      border-collapse: collapse;\\n    }\\n    tr {\\n      border: solid thin;\\n      border-color: #ddd;\\n    }\\n    th {\\n      text-align: left;\\n    }\\n    td, th {\\n      padding: 10px;\\n    }\\n  }\\n}\\n\\n/* color-scheme */\\n@media (prefers-color-scheme: dark) {\\n  .legend a {\\n    color: #ccc;\\n  }\\n  .toolbar button, .toolbar select {\\n    border: 1px solid #2f2f2f;\\n    background-color: #fff;\\n  }\\n  .toolbar button, .toolbar select {\\n    color: #fff;\\n    background-color: #333;\\n  }\\n  .toolbar button:enabled:hover, .toolbar select:enabled:hover {\\n    background-color: #555;\\n  }\\n  .toolbar button:disabled, .toolbar select:disabled {\\n    color: #aeaeae;\\n  }\\n  .toolbar .active {\\n    background-color: #404040 !important;\\n  }\\n  .toolbar button:enabled path {\\n    fill: #fff;\\n  }\\n  .toolbar button:disabled path {\\n    fill: #aeaeae;\\n  }\\n  .modal {\\n    .modal-content {\\n      background-color: #424242;\\n    }\\n    .modal-content-scroll {\\n      tr {\\n        border: solid thin;\\n        border-color: #666;\\n      }\\n    }\\n  }\\n}\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var x = (y) => {\n\tvar x = {}; __webpack_require__.d(x, y); return x\n} \nvar y = (x) => (() => (x))\nconst __WEBPACK_NAMESPACE_OBJECT__ = x({ [\"App\"]: () => (__WEBPACK_EXTERNAL_MODULE_dwv__.App), [\"WindowLevel\"]: () => (__WEBPACK_EXTERNAL_MODULE_dwv__.WindowLevel), [\"getDwvVersion\"]: () => (__WEBPACK_EXTERNAL_MODULE_dwv__.getDwvVersion), [\"getTagFromKey\"]: () => (__WEBPACK_EXTERNAL_MODULE_dwv__.getTagFromKey) });","import {getTagFromKey} from 'dwv';\n\n// doc imports\n/* eslint-disable no-unused-vars */\nimport {App} from 'dwv';\n/* eslint-enable no-unused-vars */\n\n// icons from https://fonts.google.com/icons\n// Fill: 0 Weight: 700 Grade: 0 Optical Size: 20\n/* eslint-disable @stylistic/js/max-len */\nconst _paths = {\n  // menu\n  Scroll: 'M110-215v-118h740v118H110Zm0-206v-118h740v118H110Zm0-206v-118h740v118H110Z',\n  // search\n  ZoomAndPan: 'M763-106 517-352q-29 18-64.292 28.5T376.035-313Q267-313 190-390t-77-186q0-109 77-186t186-77q109 0 186 77t77 186.035q0 42.381-10.5 76.673T600-437l247 248-84 83ZM376-431q61 0 103-42t42-103q0-61-42-103t-103-42q-61 0-103 42t-42 103q0 61 42 103t103 42Z',\n  // contrast\n  WindowLevel: 'M480.192-62Q394-62 318-94.5q-76-32.5-133.5-90t-90-133.542Q62-394.083 62-480.542 62-567 94.5-642.5t90-133q57.5-57.5 133.542-90 76.041-32.5 162.5-32.5Q567-898 642.5-865.5t133 90q57.5 57.5 90 133.308 32.5 75.807 32.5 162Q898-394 865.5-318q-32.5 76-90 133.5t-133.308 90q-75.807 32.5-162 32.5ZM528-184q109-18 180.5-99.222T780-480q0-112.818-71.5-194.909T528-775v591Z',\n  // straighten\n  Draw: 'M183-215q-49.7 0-83.85-34.15Q65-283.3 65-333v-294q0-49.7 34.15-83.85Q133.3-745 183-745h594q49.7 0 83.85 34.15Q895-676.7 895-627v294q0 49.7-34.15 83.85Q826.7-215 777-215H183Zm0-118h594v-294H672v147h-72v-147h-84v147h-72v-147h-84v147h-72v-147H183v294Zm105-147h72-72Zm156 0h72-72Zm156 0h72-72Zm-120 0Z',\n  // refresh\n  Reset: 'M476-158q-133 0-227.5-94.5T154-480q0-133 94.5-227.5T476-802q74 0 136 30t106 82v-112h88v289H516v-87h125q-29-38-71.5-61T476-684q-85 0-144.5 59.5T272-480q0 85 59.5 144.5T476-276q78 0 134.5-52.5T677-456h121q-10 126-102 212t-220 86Z',\n  // cameraswitch\n  ToggleOrientation: 'M327-273q-35.888 0-61.444-25.556Q240-324.112 240-360v-209q0-36.3 25.15-62.15T327-657h33l48-48h144l48 48h33q36.7 0 61.85 25.85T720-569v209q0 35.888-25.556 61.444Q668.888-273 633-273H327Zm0-87h306v-209H327v209Zm153.425-40Q507-400 525.5-419.133q18.5-19.132 18.5-46Q544-492 525.075-510.5q-18.925-18.5-45.5-18.5T434.5-510.075q-18.5 18.925-18.5 45.5T434.925-419q18.925 19 45.5 19ZM336-937q35.783-11.9 73.033-17.45Q446.283-960 485-960q91 0 173.5 33.5T805-835.275q64 57.725 104.544 136.5Q950.089-620 960-528H857q-8-61-34.5-115.5t-67-97q-40.5-42.5-94-71T547-851l46 47-60 62-197-195ZM624-23q-35.783 11.9-73.033 17.45Q513.717 0 475 0q-91.92 0-174.46-33.5t-146.04-91Q91-182 49.956-261 8.91-340 0-432h103q7 61 33.5 115.5t67.5 97q41 42.5 94.5 71T413-109l-46-47 60-62L624-23ZM482-466Z',\n  // open in full\n  Fullscreen: 'M110-110v-334h118v132l420-420H516v-118h334v334H732v-132L312-228h132v118H110Z',\n  // tags\n  Tags: 'M406-405h177v-92H406v92Zm0-132h354v-92H406v92Zm0-132h354v-92H406v92Zm-51 440q-53 0-89.5-36.5T229-355v-456q0-53 36.5-89.5T355-937h456q53 0 89.5 36.5T937-811v456q0 53-36.5 89.5T811-229H355Zm0-126h456v-456H355v456ZM149-23q-53 0-89.5-36.5T23-149v-582h126v582h582v126H149Zm206-788v456-456Z'\n};\n/* eslint-enable @stylistic/js/max-len */\n\n/**\n * Get a tool html button.\n *\n * @param {string} toolName The tool name.\n * @param {Gui} appGui The associated GUi.\n * @returns {HTMLButtonElement} An HTML button element.\n */\nfunction getToolButton(toolName, appGui) {\n  const xmlns = 'http://www.w3.org/2000/svg';\n  const path = document.createElementNS(xmlns, 'path');\n  path.setAttributeNS(null, 'd', _paths[toolName]);\n  const svg = document.createElementNS(xmlns, 'svg');\n  svg.setAttributeNS(null, 'height', 20);\n  svg.setAttributeNS(null, 'width', 20);\n  svg.setAttributeNS(null, 'viewBox', '0 -960 960 960');\n  svg.appendChild(path);\n  const button = document.createElement('button');\n  button.id = appGui.getToolId(toolName);\n  button.title = toolName;\n  button.appendChild(svg);\n  // onclick callback\n  if (toolName === 'Reset') {\n    button.addEventListener('click', function () {\n      appGui.onDisplayReset();\n    });\n  } else if (toolName === 'ToggleOrientation') {\n    button.addEventListener('click', function () {\n      appGui.toggleOrientation();\n    });\n  } else if (toolName === 'Fullscreen') {\n    button.addEventListener('click', function () {\n      appGui.toggleFullScreen();\n    });\n  } else if (toolName === 'Tags') {\n    button.addEventListener('click', function () {\n      appGui.openTagsModal();\n    });\n  } else {\n    button.addEventListener('click', function () {\n      appGui.onChangeTool(toolName);\n    });\n  }\n  return button;\n}\n\n/**\n * Get a tool html select.\n *\n * @param {string} toolName The tool name.\n * @param {Gui} appGui The associated GUi.\n * @returns {HTMLSelectElement} An HTML select element.\n */\nfunction getSelect(toolName, appGui) {\n  const option = document.createElement('option');\n  option.value = '';\n  option.appendChild(document.createTextNode('Preset...'));\n  const select = document.createElement('select');\n  select.id = appGui.getToolId(toolName);\n  select.title = 'Window level presets';\n  select.appendChild(option);\n  select.addEventListener('change', function () {\n    appGui.onChangePreset(this.value);\n  });\n  return select;\n}\n\n/**\n * GUI class.\n */\nexport class Gui {\n\n  /**\n   * View this.#orientation.\n   *\n   * @type {string}\n   */\n  #orientation;\n\n  /**\n   * Layer group div height before full screen.\n   *\n   * @type {string}\n   */\n  #lgDivHeight;\n\n  /**\n   * The associated app.\n   *\n   * @type {App}\n   */\n  #app;\n\n  /**\n   * The list of tools.\n   *\n   * @type {string[]}\n   */\n  #tools;\n\n  /**\n   * The GUI UID.\n   *\n   * @type {string}\n   */\n  #uid;\n\n  /**\n   * The root document.\n   *\n   * @type {Document}\n   */\n  #rootDoc = document;\n\n  /**\n   * @param {App} app The associated app.\n   * @param {string[]} tools The list of tools.\n   * @param {string} uid The GUI unique id.\n   * @param {Document} [rootDoc] Optional root document,\n   *   defaults to `window.document`.\n   */\n  constructor(app, tools, uid, rootDoc) {\n    this.#app = app;\n    this.#tools = tools;\n    this.#uid = uid;\n    if (typeof rootDoc !== 'undefined') {\n      this.#rootDoc = rootDoc;\n    }\n  };\n\n  /**\n   * Initialise the GUI: fill the toolbar.\n   */\n  init() {\n    const toolbar = this.#rootDoc.getElementById(this.getToolbarDivId());\n    for (let i = 0; i < this.#tools.length; ++i) {\n      if (this.#tools[i] === 'WindowLevelPresets') {\n        toolbar.appendChild(getSelect(this.#tools[i], this));\n      } else {\n        toolbar.appendChild(getToolButton(this.#tools[i], this));\n      }\n    }\n  };\n\n  /**\n   * Show the progress bar: adds a progress to the\n   *   layerGroup div.\n   */\n  showProgressBar() {\n    const progress = document.createElement('progress');\n    progress.id = 'progress-' + this.#uid;\n    progress.max = '100';\n    progress.value = '0';\n\n    const lg = this.#rootDoc.getElementById(this.getToolbarDivId());\n    lg.appendChild(progress);\n  };\n\n  /**\n   * Set the progress: updates the progress bar,\n   *   hides it if percent is 100.\n   *\n   * @param {number} percent The progess percent.\n   */\n  setProgress(percent) {\n    const progress = this.#rootDoc.getElementById('progress-' + this.#uid);\n    if (progress) {\n      if (percent === 100) {\n        // remove\n        progress.remove();\n      } else {\n        // update value\n        progress.value = percent;\n      }\n    }\n  };\n\n  /**\n   * Get the dwv div id.\n   *\n   * @returns {string} The id.\n   */\n  getDwvDivId() {\n    return 'dwv-' + this.#uid;\n  };\n\n  /**\n   * Get the layer group div id.\n   *\n   * @returns {string} The id.\n   */\n  getLayerGroupDivId() {\n    return 'layerGroup-' + this.#uid;\n  };\n\n  /**\n   * Get the toolbar div id.\n   *\n   * @returns {string} The id.\n   */\n  getToolbarDivId() {\n    return 'toolbar-' + this.#uid;\n  };\n\n  /**\n   * Get a tool id from its name.\n   *\n   * @param {string} toolName Tool name.\n   * @returns {string} The id.\n   */\n  getToolId(toolName) {\n    return toolName.toLowerCase() + '-' + this.#uid;\n  };\n\n  /**\n   * Enable or not a tool.\n   *\n   * @param {string} name The tool name.\n   * @param {boolean} flag True to enable.\n   */\n  enableTool(name, flag) {\n    const toolId = this.getToolId(name);\n    this.#rootDoc.getElementById(toolId).disabled = !flag;\n  };\n\n  /**\n   * Enable or not all tools.\n   *\n   * @param {boolean} flag True to enable.\n   */\n  enableTools(flag) {\n    for (let i = 0; i < this.#tools.length; ++i) {\n      this.enableTool(this.#tools[i], flag);\n    }\n  };\n\n  /**\n   * Activate or not a tool.\n   *\n   * @param {string} name The tool name.\n   * @param {boolean} flag True to activate.\n   */\n  activateTool(name, flag) {\n    const toolId = this.getToolId(name);\n    if (flag) {\n      this.#rootDoc.getElementById(toolId).classList.add('active');\n    } else {\n      this.#rootDoc.getElementById(toolId).classList.remove('active');\n    }\n  };\n\n  /**\n   * Activate or not all tool.\n   *\n   * @param {boolean} flag True to activate.\n   */\n  activateTools(flag) {\n    for (let i = 0; i < this.#tools.length; ++i) {\n      this.activateTool(this.#tools[i], flag);\n    }\n  };\n\n  /**\n   * Handle preset change.\n   *\n   * @param {string} name The name of the new preset.\n   */\n  onChangePreset(name) {\n    // update viewer\n    const lg = this.#app.getActiveLayerGroup();\n    const vl = lg.getViewLayersFromActive()[0];\n    const vc = vl.getViewController();\n    vc.setWindowLevelPreset(name);\n    // set selected\n    this.setSelectedPreset(name);\n  };\n\n  /**\n   * Handle tool change.\n   *\n   * @param {string} name The name of the new tool.\n   */\n  onChangeTool(name) {\n    this.activateTools(false);\n    this.activateTool(name, true);\n    this.#app.setTool(name);\n    if (name === 'Draw') {\n      this.#app.setToolFeatures({shapeName: 'Ruler'});\n    } else {\n      // if draw was created, active is now a draw layer...\n      // reset to view layer\n      const lg = this.#app.getActiveLayerGroup();\n      lg?.setActiveLayer(0);\n    }\n  };\n\n  /**\n   * Handle display reset.\n   */\n  onDisplayReset() {\n    this.#app.resetZoomPan();\n    // reset window level\n    const lg = this.#app.getActiveLayerGroup();\n    const vl = lg.getViewLayersFromActive()[0];\n    vl.getViewController().initialise();\n    // reset preset dropdown\n    const presetsId = this.getToolId('WindowLevelPresets');\n    const domPresets = this.#rootDoc.getElementById(presetsId);\n    domPresets.selectedIndex = 0;\n  };\n\n  /**\n   * Toggle the viewer this.#orientation.\n   */\n  toggleOrientation() {\n    if (typeof this.#orientation !== 'undefined') {\n      if (this.#orientation === 'axial') {\n        this.#orientation = 'coronal';\n      } else if (this.#orientation === 'coronal') {\n        this.#orientation = 'sagittal';\n      } else if (this.#orientation === 'sagittal') {\n        this.#orientation = 'axial';\n      }\n    } else {\n      // default is most probably axial\n      this.#orientation = 'coronal';\n    }\n    // update data view config\n    const config = {\n      '*': [\n        {\n          divId: this.getLayerGroupDivId(),\n          orientation: this.#orientation\n        }\n      ]\n    };\n    this.#app.setDataViewConfigs(config);\n    // render data\n    const dataIds = this.#app.getDataIds();\n    for (let i = 0; i < dataIds.length; ++i) {\n      this.#app.render(dataIds[i]);\n    }\n  };\n\n  /**\n   * Toogle full screen on and off.\n   */\n  toggleFullScreen() {\n    const lgDivId = this.getLayerGroupDivId();\n    const lgElement = this.#rootDoc.getElementById(lgDivId);\n\n    // the app listens on window resize (see applaucher\n    // `window.addEventListener('resize', dwvApp.onResize);`)\n    // -> no need to manually call app.fitToContainer\n\n    if (!document.fullscreenElement) {\n      const fsDivId = this.getDwvDivId();\n      const fsElement = this.#rootDoc.getElementById(fsDivId);\n      fsElement.requestFullscreen().then(() => {\n        // if the layer group height was 0, the app set it to a fixed size.\n        // change it to 100% to trigger a resize and recalculate the\n        // fit scale to occupy the full screen\n        this.#lgDivHeight = lgElement.style.height;\n        lgElement.style.height = '100%';\n      });\n    } else if (document.exitFullscreen) {\n      document.exitFullscreen();\n      // restore previous height\n      lgElement.style.height = this.#lgDivHeight;\n    }\n  };\n\n  /**\n   * Open the DICOM tags modal.\n   */\n  openTagsModal() {\n    const modalId = 'modal-' + this.#uid;\n    let modalDiv = this.#rootDoc.getElementById(modalId);\n\n    // create div if not present\n    if (!modalDiv) {\n      modalDiv = this.#getTagsModal(modalId);\n      // global container\n      const container = this.#rootDoc.getElementById(this.getDwvDivId());\n      container.appendChild(modalDiv);\n    }\n\n    // display modal\n    modalDiv.style.display = 'block';\n  };\n\n  /**\n   * Get the tags modal.\n   *\n   * @param {string} modalId The modal div id.\n   * @returns {HTMLElement} The modal div.\n   */\n  #getTagsModal(modalId) {\n    // create div\n    const modalDiv = document.createElement('div');\n    modalDiv.className = 'modal';\n    modalDiv.id = modalId;\n    modalDiv.style.display = 'block';\n    // close on outside click\n    this.#rootDoc.addEventListener('click', function (event) {\n      if (event.target === modalDiv) {\n        modalDiv.style.display = 'none';\n      }\n    });\n\n    const modalContentDiv = document.createElement('div');\n    modalContentDiv.className = 'modal-content';\n    modalContentDiv.id = 'modal-content-' + this.#uid;\n    modalDiv.appendChild(modalContentDiv);\n\n    const modalTitle = document.createElement('h2');\n    modalTitle.appendChild(document.createTextNode('DICOM Tags'));\n    modalContentDiv.appendChild(modalTitle);\n\n    // div with enabled scroll\n    const modalScrollDiv = document.createElement('div');\n    modalScrollDiv.className = 'modal-content-scroll';\n\n    const metaData = this.#app.getMetaData('0');\n\n    // InstanceNumber\n    const instanceElement = metaData['00200013'];\n    let instanceNumbers;\n    if (typeof instanceElement !== 'undefined') {\n      // set slider with instance numbers ('00200013')\n      let instanceNumberValue = instanceElement.value;\n      if (typeof instanceNumberValue === 'string') {\n        instanceNumberValue = [instanceNumberValue];\n      }\n      // convert string to numbers\n      instanceNumbers = instanceNumberValue.map(Number);\n      // sort\n      instanceNumbers.sort(function (a, b) {\n        return a - b;\n      });\n    }\n\n    let instanceNumber = instanceNumbers[0];\n\n    const slider = document.createElement('input');\n    slider.type = 'range';\n    slider.id = 'instancenumber-slider-' + this.#uid;\n    slider.min = 0;\n    slider.max = instanceNumbers.length - 1;\n    slider.value = 0;\n    slider.title = 'Instance Number';\n    const sliderLabel = document.createElement('label');\n    sliderLabel.id = 'instancenumber-slider-label-' + this.#uid;\n    sliderLabel.for = slider.id;\n    sliderLabel.appendChild(document.createTextNode(instanceNumber));\n    sliderLabel.title = slider.title;\n\n    const sliderLine = document.createElement('p');\n    sliderLine.appendChild(slider);\n    sliderLine.appendChild(sliderLabel);\n    modalContentDiv.appendChild(sliderLine);\n\n    slider.addEventListener('input', function (event) {\n      instanceNumber = instanceNumbers[event.target.value];\n      const metaArr = getMetaArray(metaData, instanceNumber);\n      const metaTab = arrayToHtmlTable(metaArr);\n      modalScrollDiv.replaceChildren(metaTab);\n      sliderLabel.replaceChildren(document.createTextNode(instanceNumber));\n    });\n\n    // get meta data html table\n    const metaArray = getMetaArray(metaData, instanceNumber);\n    const metaTable = arrayToHtmlTable(metaArray);\n    modalScrollDiv.appendChild(metaTable);\n    modalContentDiv.appendChild(modalScrollDiv);\n\n    return modalDiv;\n  };\n\n  /**\n   * Update preset dropdown.\n   *\n   * @param {string[]} presets The list of presets to use as options.\n   */\n  updatePresets(presets) {\n    const presetsId = this.getToolId('WindowLevelPresets');\n    const domPresets = this.#rootDoc.getElementById(presetsId);\n    // clear previous\n    while (domPresets.hasChildNodes()) {\n      domPresets.removeChild(domPresets.firstChild);\n    }\n    // add new\n    for (let i = 0; i < presets.length; ++i) {\n      const option = document.createElement('option');\n      option.value = presets[i];\n      const label = presets[i];\n      option.appendChild(document.createTextNode(label));\n      domPresets.appendChild(option);\n    }\n  };\n\n  /**\n   * Set the selected preset in the preset dropdown.\n   *\n   * @param {string} name The name of the preset to select.\n   */\n  setSelectedPreset(name) {\n    const presetsId = this.getToolId('WindowLevelPresets');\n    const domPresets = this.#rootDoc.getElementById(presetsId);\n    // find the index\n    let index = 0;\n    for (index in domPresets.options) {\n      if (domPresets.options[index].value === name) {\n        break;\n      }\n    }\n    // set selected\n    domPresets.selectedIndex = index;\n  };\n\n}; // class Gui\n\n/**\n * Get an HTML table from a string array.\n *\n * @param {string[]} arr The input array.\n * @returns {HTMLTableElement} The HTML table element.\n */\nfunction arrayToHtmlTable(arr) {\n  const table = document.createElement('table');\n  let row;\n  let cell;\n\n  // check input\n  if (typeof arr === 'undefined' ||\n    arr.length === 0) {\n    row = table.insertRow(-1);\n    cell = document.createElement('td');\n    cell.appendChild(document.createTextNode('Empty input array...'));\n    row.appendChild(cell);\n    return table;\n  }\n\n  // extract keys from first element\n  const item0 = arr[0];\n  const keys = Object.keys(item0);\n\n  // table body\n  for (let i = 0; i < arr.length; ++i) {\n    row = table.insertRow(-1);\n    for (let j = 0; j < keys.length; ++j) {\n      cell = document.createElement('td');\n      cell.appendChild(document.createTextNode(arr[i][keys[j]]));\n      row.appendChild(cell);\n    }\n  }\n  // table head\n  const thead = table.createTHead();\n  const th = thead.insertRow(-1);\n  for (let k = 0; k < keys.length; ++k) {\n    const hcell = document.createElement('th');\n    let key = keys[k];\n    key = key.charAt(0).toUpperCase() + key.slice(1);\n    hcell.appendChild(document.createTextNode(key));\n    th.appendChild(hcell);\n  }\n\n  return table;\n}\n\n/**\n * Get the meta data as an array.\n *\n * @param {any} meta The meta data.\n * @param {number} instanceNumber The instance number.\n * @returns {string[]} The meta data as a flat string array.\n */\nfunction getMetaArray(meta, instanceNumber) {\n  let reducer;\n  if (isDicomMeta(meta)) {\n    reducer = getDicomTagReducer(meta, instanceNumber, '');\n  } else {\n    reducer = getTagReducer(meta);\n  }\n  const keys = Object.keys(meta);\n  return keys.reduce(reducer, []);\n}\n\n/**\n * Check if a meta data is a dicom one.\n *\n * @param {any} meta The dicom meta data.\n * @returns {boolean} True if the meta data is a DICOM one.\n */\nfunction isDicomMeta(meta) {\n  // true if it has a Transfer Syntax\n  return typeof meta['00020010'] !== 'undefined';\n}\n\n/**\n * Get a simple data array reducer.\n *\n * @param {any} tagData Simple data with a 'value' property.\n * @returns {Function} The data recuder.\n */\nfunction getTagReducer(tagData) {\n  return function (accumulator, currentValue) {\n    accumulator.push({\n      name: currentValue,\n      value: tagData[currentValue].value\n    });\n    return accumulator;\n  };\n}\n\n/**\n * Get a DICOM data array reducer.\n *\n * @param {any} tagData DICOM data.\n * @param {number} instanceNumber The instance number.\n * @param {string} prefix The prefix.\n * @returns {Function} The data reducer.\n */\nfunction getDicomTagReducer(tagData, instanceNumber, prefix) {\n  return function (accumulator, currentValue) {\n    const tag = getTagFromKey(currentValue);\n    let key = tag.getNameFromDictionary();\n    if (typeof key === 'undefined') {\n      // add 'x' to help sorting\n      key = 'x' + tag.getKey();\n    }\n    const name = key;\n    const element = tagData[currentValue];\n    let value = element.value;\n    // possible 'merged' object\n    // (use slice method as test for array and typed array)\n    if (typeof value.slice === 'undefined' &&\n      typeof value[instanceNumber] !== 'undefined') {\n      value = value[instanceNumber];\n    }\n    // force instance number (otherwise takes value in non indexed array)\n    if (name === 'InstanceNumber') {\n      value = instanceNumber;\n    }\n    // recurse for sequence\n    if (element.vr === 'SQ') {\n      // sequence tag\n      accumulator.push({\n        name: (prefix ? prefix + ' ' : '') + name,\n        value: ''\n      });\n      // sequence value\n      for (let i = 0; i < value.length; ++i) {\n        const sqItems = value[i];\n        const keys = Object.keys(sqItems);\n        const res = keys.reduce(\n          getDicomTagReducer(\n            sqItems, instanceNumber, prefix + '[' + i + ']'), []\n        );\n        accumulator = accumulator.concat(res);\n      }\n    } else {\n      // shorten long 'o'ther data\n      if (element.vr[0] === 'O' && value.length > 10) {\n        value = value.slice(0, 10).toString() +\n          '... (len:' + value.length + ')';\n      }\n      accumulator.push({\n        name: (prefix ? prefix + ' ' : '') + name,\n        value: value.toString()\n      });\n    }\n    return accumulator;\n  };\n}\n","// doc imports\n/* eslint-disable no-unused-vars */\nimport {App} from 'dwv';\n/* eslint-enable no-unused-vars */\n\n/**\n * Dropbox loader.\n * Listens to drag events on the layer container and\n *   uses a drop box element as first display.\n */\nexport class DropboxLoader {\n\n  /**\n   * The associated app.\n   *\n   * @type {App}\n   */\n  #app;\n\n  /**\n   * The GUI UID.\n   *\n   * @type {string}\n   */\n  #uid;\n\n  /**\n   * The root document.\n   *\n   * @type {Document}\n   */\n  #rootDoc = document;\n\n  // drop box class name\n  #dropboxDivId = 'dropBox';\n  #dropboxClassName = 'dropBox';\n  #borderClassName = 'dropBoxBorder';\n  #hoverClassName = 'hover';\n\n  /**\n   * @param {App} app The associated application.\n   * @param {string} uid The GUI UID.\n   * @param {Document} [rootDoc] Optional root document,\n   *   defaults to `window.document`.\n   */\n  constructor(app, uid, rootDoc) {\n    this.#app = app;\n    this.#uid = uid;\n    if (typeof rootDoc !== 'undefined') {\n      this.#rootDoc = rootDoc;\n    }\n  }\n\n  /**\n   * Initialise the drop box.\n   */\n  init() {\n    this.showDropbox(true);\n  };\n\n  /**\n   * Basic handle drag event.\n   *\n   * @param {object} event The event to handle.\n   */\n  #defaultHandleDragEvent = (event) => {\n    // prevent default handling\n    event.stopPropagation();\n    event.preventDefault();\n  };\n\n  /**\n   * Handle a drag over.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onBoxDragOver = (event) => {\n    this.#defaultHandleDragEvent(event);\n    // update box border\n    const box = this.#rootDoc.getElementById(this.#dropboxDivId);\n    if (box && box.className.indexOf(this.#hoverClassName) === -1) {\n      box.className += ' ' + this.#hoverClassName;\n    }\n  };\n\n  /**\n   * Handle a drag leave.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onBoxDragLeave = (event) => {\n    this.#defaultHandleDragEvent(event);\n    // update box border\n    const box = this.#rootDoc.getElementById(this.#dropboxDivId);\n    if (box && box.className.indexOf(this.#hoverClassName) !== -1) {\n      box.className = box.className.replace(' ' + this.#hoverClassName, '');\n    }\n  };\n\n  /**\n   * Handle a drop event.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onDrop = (event) => {\n    this.#defaultHandleDragEvent(event);\n    // load files\n    this.#app.loadFiles(event.dataTransfer.files);\n  };\n\n  /**\n   * Handle a an input[type:file] change event.\n   *\n   * @param {object} event The event to handle.\n   */\n  #onInputFile = (event) => {\n    if (event.target && event.target.files) {\n      this.#app.loadFiles(event.target.files);\n    }\n  };\n\n  /**\n   * Show or hide the data load drop box.\n   *\n   * @param {boolean} show Flag to show or hide.\n   */\n  showDropbox(show) {\n    const box = this.#rootDoc.getElementById(this.#dropboxDivId);\n    if (!box) {\n      return;\n    }\n    const layerDiv = this.#rootDoc.getElementById('layerGroup-' + this.#uid);\n\n    if (show) {\n      // reset css class\n      box.className = this.#dropboxClassName + ' ' + this.#borderClassName;\n      // add content if empty\n      if (box.innerHTML === '') {\n        const p = document.createElement('p');\n        p.appendChild(document.createTextNode('Drag and drop data here or '));\n        // input file\n        const input = document.createElement('input');\n        input.onchange = this.#onInputFile;\n        input.type = 'file';\n        input.multiple = true;\n        input.id = 'input-file';\n        input.style.display = 'none';\n        const label = document.createElement('label');\n        label.htmlFor = 'input-file';\n        const link = document.createElement('a');\n        link.appendChild(document.createTextNode('click here'));\n        link.id = 'input-file-link';\n        label.appendChild(link);\n        p.appendChild(input);\n        p.appendChild(label);\n\n        box.appendChild(p);\n      }\n      // show box\n      box.setAttribute('style', 'display:initial');\n      // stop layer listening\n      if (layerDiv) {\n        layerDiv.removeEventListener('dragover', this.#defaultHandleDragEvent);\n        layerDiv.removeEventListener('dragleave', this.#defaultHandleDragEvent);\n        layerDiv.removeEventListener('drop', this.#onDrop);\n      }\n      // listen to box events\n      box.addEventListener('dragover', this.#onBoxDragOver);\n      box.addEventListener('dragleave', this.#onBoxDragLeave);\n      box.addEventListener('drop', this.#onDrop);\n    } else {\n      // remove border css class\n      box.className = this.#dropboxClassName;\n      // remove content\n      box.innerHTML = '';\n      // hide box\n      box.setAttribute('style', 'display:none');\n      // stop box listening\n      box.removeEventListener('dragover', this.#onBoxDragOver);\n      box.removeEventListener('dragleave', this.#onBoxDragLeave);\n      box.removeEventListener('drop', this.#onDrop);\n      // listen to layer events\n      if (layerDiv) {\n        layerDiv.addEventListener('dragover', this.#defaultHandleDragEvent);\n        layerDiv.addEventListener('dragleave', this.#defaultHandleDragEvent);\n        layerDiv.addEventListener('drop', this.#onDrop);\n      }\n    }\n  };\n}; // class DropboxLoader\n","import {\n  App,\n  WindowLevel\n} from 'dwv';\n\nimport {Gui} from './appgui.js';\nimport {DropboxLoader} from './gui/dropboxLoader.js';\n\n/**\n * Application launcher.\n *\n * @param {string} uid The app uid.\n * @param {object} options Start options:\n * - uri (string): an URI with search parameters,\n * - urls (string[]): list of urls to load,\n * - wlpreset (object): default window level preset.\n * @param {Document} [rootDoc] Optional root document,\n *   defaults to `window.document`.\n */\nexport function startApp(uid, options, rootDoc) {\n  // app options\n  const appOptions = {\n    dataViewConfigs: {'*': [{divId: 'layerGroup-' + uid}]},\n    tools: {\n      Scroll: {},\n      ZoomAndPan: {},\n      WindowLevel: {},\n      Draw: {\n        options: ['Ruler']\n      }\n    }\n  };\n  if (typeof rootDoc !== 'undefined') {\n    appOptions.rootDocument = rootDoc;\n  }\n  // main application\n  const dwvApp = new App();\n  dwvApp.init(appOptions);\n\n  // app gui\n  const guiTools = Object.keys(appOptions.tools);\n  const wlIndex = guiTools.indexOf('WindowLevel');\n  if (wlIndex !== -1) {\n    guiTools.splice(wlIndex + 1, 0, 'WindowLevelPresets');\n  }\n  guiTools.push('Reset');\n  guiTools.push('ToggleOrientation');\n  guiTools.push('Fullscreen');\n  guiTools.push('Tags');\n  const dwvAppGui = new Gui(dwvApp, guiTools, uid, rootDoc);\n  dwvAppGui.init();\n  dwvAppGui.enableTools(false);\n\n  // abort shortcut listener\n  const abortOnCrtlX = function (event) {\n    if (event.ctrlKey && event.keyCode === 88) {\n      // crtl-x\n      console.log('Abort load received from user (crtl-x).');\n      dwvApp.abortLoad();\n    }\n  };\n\n  // handle load events\n  let nLoadItem;\n  let nReceivedLoadError;\n  let nReceivedLoadAbort;\n  let isFirstRender;\n  dwvApp.addEventListener('loadstart', function (/*event*/) {\n    // reset counts\n    nLoadItem = 0;\n    nReceivedLoadError = 0;\n    nReceivedLoadAbort = 0;\n    isFirstRender = true;\n    // allow to cancel via crtl-x\n    window.addEventListener('keydown', abortOnCrtlX);\n    // show progress bar\n    dwvAppGui.showProgressBar();\n  });\n  dwvApp.addEventListener('loadprogress', function (event) {\n    const percent = Math.ceil(event.loaded * 100 / event.total);\n    // set progress (hides the bar is percent=100)\n    dwvAppGui.setProgress(percent);\n  });\n  dwvApp.addEventListener('load', function (/*event*/) {\n    // force hidding in case 100% progress was not sent\n    dwvAppGui.setProgress(100);\n  });\n  dwvApp.addEventListener('loaditem', function (/*event*/) {\n    ++nLoadItem;\n  });\n  dwvApp.addEventListener('renderend', function (event) {\n    if (isFirstRender) {\n      isFirstRender = false;\n      const vl = dwvApp.getViewLayersByDataId(event.dataid)[0];\n      const vc = vl.getViewController();\n      // enable tools\n      dwvAppGui.enableTools(true);\n      // set the selected tool\n      let selectedTool = 'ZoomAndPan';\n      if (vc.canScroll()) {\n        selectedTool = 'Scroll';\n      } else {\n        dwvAppGui.enableTool('Scroll', false);\n      }\n      if (!vc.isMonochrome()) {\n        dwvAppGui.enableTool('WindowLevel', false);\n      }\n      dwvApp.setTool(selectedTool);\n      dwvAppGui.activateTool(selectedTool, true);\n      // optional wl preset\n      let hasExtraPreset = false;\n      let wlpreset;\n      if (typeof options !== 'undefined' &&\n        typeof options.wlpreset !== 'undefined') {\n        hasExtraPreset = true;\n        wlpreset = options.wlpreset;\n        const presets = {};\n        presets[wlpreset.name] = {\n          wl: [new WindowLevel(wlpreset.center, wlpreset.width)],\n          name: wlpreset.name\n        };\n        vc.addWindowLevelPresets(presets);\n      }\n      // update GUI\n      dwvAppGui.updatePresets(\n        vc.getWindowLevelPresetsNames()\n      );\n      // select optional preset\n      if (hasExtraPreset) {\n        vc.setWindowLevelPreset(wlpreset.name);\n        dwvAppGui.setSelectedPreset(options.wlpreset.name);\n      }\n    }\n  });\n  dwvApp.addEventListener('error', function (event) {\n    console.error(event.error);\n    ++nReceivedLoadError;\n  });\n  dwvApp.addEventListener('abort', function (/*event*/) {\n    ++nReceivedLoadAbort;\n  });\n  dwvApp.addEventListener('loadend', function (/*event*/) {\n    // show alert for errors\n    if (nReceivedLoadError) {\n      let message = 'A load error has ';\n      if (nReceivedLoadError > 1) {\n        message = nReceivedLoadError + ' load errors have ';\n      }\n      message += 'occured. See log for details.';\n      alert(message);\n    }\n    // console warn for aborts\n    if (nReceivedLoadAbort !== 0) {\n      console.warn('Data load was aborted.');\n    }\n    // stop listening for crtl-x\n    window.removeEventListener('keydown', abortOnCrtlX);\n  });\n\n  // setup drop box\n  const dropBoxLoader = new DropboxLoader(dwvApp, uid, rootDoc);\n  dropBoxLoader.init();\n  // show/hide drop box\n  dwvApp.addEventListener('loadstart', function (/*event*/) {\n    // hide drop box\n    dropBoxLoader.showDropbox(false);\n  });\n  dwvApp.addEventListener('loadend', function (/*event*/) {\n    // show the drop box if no item were received or\n    // if the load was aborted\n    if (!nLoadItem ||\n      nReceivedLoadAbort !== 0) {\n      dropBoxLoader.showDropbox(true);\n    }\n  });\n\n  // handle key events\n  dwvApp.addEventListener('keydown', function (event) {\n    dwvApp.defaultOnKeydown(event);\n  });\n  // handle window resize\n  window.addEventListener('resize', dwvApp.onResize);\n\n  // listen to 'wlchange'\n  dwvApp.addEventListener('wlchange', function (/*event*/) {\n    // update presets (in case new was added)\n    const lg = dwvApp.getActiveLayerGroup();\n    const vl = lg.getViewLayersFromActive()[0];\n    const viewController = vl.getViewController();\n    dwvAppGui.updatePresets(\n      viewController.getWindowLevelPresetsNames()\n    );\n    // suppose it is a manual change so switch preset to manual\n    dwvAppGui.setSelectedPreset('manual');\n  });\n\n  // load from options if defined\n  if (typeof options !== 'undefined') {\n    if (typeof options.uri !== 'undefined') {\n      dwvApp.loadFromUri(options.uri);\n    } else if (typeof options.urls !== 'undefined') {\n      dwvApp.loadURLs(options.urls);\n    } else {\n      dropBoxLoader.showDropbox(true);\n    }\n  } else {\n    dropBoxLoader.showDropbox(true);\n  }\n};\n","import {getDwvVersion} from 'dwv';\nimport {startApp} from './applauncher.js';\n\nimport styles from './dwv-component.css';\n\n/**\n * DWV component: display DICOM data using DWV (DICOM Web Viewer).\n * Possible attributes are:\n * - uri: an input string URI to load the data from,\n * - urls: comma separated list of urls to load the data from,\n * - loadfromwindowlocation: (boolean) use the window location\n *   as input uri if it contains search arguments,\n * - showlegend: (boolean) show or not the legend (defaults to false),\n * - wlpresetname, wlpresetcenter and wlpresetwidth: start\n *   the viewer with a specific window level setting instead of the one\n *   present in the DICOM file (only applied if all three values are present),\n * - height: the css height of the component,\n * - width: the css width of the component.\n *\n * Attributes are case insensitive. Boolean type are considered true if\n * present whatever the value.\n *\n * A dropbox is shown if no uri nor urls are provided. It allows to\n * manually load dicom data from the local system.\n *\n * The inner div structure is:\n * <div class='dwv'>\n *   <div class='toolbar'></div>\n *   <div class='layerGroup'></div>\n *   <div class='legend'></div>\n * </div>\n * Each div css is overridable via `dwv-simple::part(dwv)` (replace `dwv`\n * by the desired div class name).\n *\n * Ref:\n * - {@link https://developer.mozilla.org/en-US/docs/Web/API/Web_components},\n * - {@link https://github.com/ivmartel/dwv}.\n *\n * @example\n * <dwv-simple></dwv-simple>\n * @example\n * <dwv-simple showlegend loadfromwindowlocation></dwv-simple>\n * @example\n * <dwv-simple\n *   uri=\"https://www.demo.com/index.html?input=file.dcm\"\n * ></dwv-simple>\n * @example\n * <dwv-simple\n *   urls=\"\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323851.dcm,\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323707.dcm\n *   \"\n * ></dwv-simple>\n * @example\n * <dwv-simple\n *   urls=\"\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323851.dcm,\n *     https://raw.githubusercontent.com/ivmartel/dwv/master/tests/data/bbmri-53323707.dcm\n *   \"\n *   wlpresetname=\"preset0\"\n *   wlpresetcenter=\"0\"\n *   wlpresetwidth=\"2500\"\n * ></dwv-simple>\n */\nexport class DwvComponent extends HTMLElement {\n  constructor() {\n    // Always call super first in constructor\n    super();\n  }\n\n  /**\n   * Invoked when the custom element is first connected to the document's DOM.\n   */\n  connectedCallback() {\n    // use element id as appId if present or\n    // generate random\n    let appId;\n    if (this.hasAttribute('id')) {\n      appId = this.getAttribute('id');\n    } else {\n      appId = window.crypto.randomUUID().substring(0, 8);\n    }\n\n    // main container\n    const container = document.createElement('div');\n    container.id = 'dwv-' + appId;\n    container.className = 'dwv';\n    container.part = 'dwv';\n\n    // toolbar\n    const toolbar = document.createElement('div');\n    toolbar.id = 'toolbar-' + appId;\n    toolbar.className = 'toolbar';\n    toolbar.part = 'toolbar';\n\n    // layer group\n    const layerGroup = document.createElement('div');\n    layerGroup.id = 'layerGroup-' + appId;\n    layerGroup.className = 'layerGroup';\n    layerGroup.part = 'layerGroup';\n    const dropBox = document.createElement('div');\n    dropBox.id = 'dropBox';\n    layerGroup.appendChild(dropBox);\n\n    // fill container\n    container.appendChild(toolbar);\n    container.appendChild(layerGroup);\n\n    // legend\n    if (this.hasAttribute('showlegend')) {\n      const dwvLink = document.createElement('a');\n      dwvLink.href = 'https://github.com/ivmartel/dwv';\n      dwvLink.title = 'dwv on github';\n      dwvLink.appendChild(document.createTextNode('dwv'));\n\n      const para = document.createElement('p');\n      para.appendChild(document.createTextNode('Powered by '));\n      para.appendChild(dwvLink);\n      para.appendChild(document.createTextNode(\n        ' ' + getDwvVersion() + '.'));\n\n      const legend = document.createElement('div');\n      legend.id = 'legend-' + appId;\n      legend.className = 'legend';\n      legend.part = 'legend';\n      legend.appendChild(para);\n\n      container.appendChild(legend);\n    }\n\n    // extra css for height and width\n    let extraCss = '';\n    if (this.hasAttribute('height')) {\n      extraCss += 'height: ' + this.getAttribute('height') + ';';\n    } else {\n      extraCss += 'height: 90%;';\n    }\n    if (this.hasAttribute('width')) {\n      extraCss += 'width: ' + this.getAttribute('width') + ';';\n    }\n    // style\n    const styleElement = document.createElement('style');\n    styleElement.innerHTML += '.dwv {' + extraCss + '}\\n\\n';\n    styleElement.innerHTML += styles.toString();\n\n    // shadow root\n    const shadow = this.attachShadow({mode: 'open'});\n    shadow.appendChild(styleElement);\n    shadow.appendChild(container);\n\n    // create options from attributes\n    const options = {};\n    // load\n    if (this.hasAttribute('uri')) {\n      options.uri = this.getAttribute('uri');\n    } else if (this.hasAttribute('urls')) {\n      const trimItem = function (item) {\n        return item.trim();\n      };\n      options.urls = this.getAttribute('urls').split(',').map(trimItem);\n    } else if (this.hasAttribute('loadfromwindowlocation')) {\n      if (window.location.search !== '') {\n        options.uri = window.location.href;\n      }\n    }\n    // window level\n    if (this.hasAttribute('wlpresetname') &&\n      this.hasAttribute('wlpresetcenter') &&\n      this.hasAttribute('wlpresetwidth')) {\n      options.wlpreset = {\n        name: this.getAttribute('wlpresetname'),\n        center: this.getAttribute('wlpresetcenter'),\n        width: this.getAttribute('wlpresetwidth')\n      };\n    }\n\n    // start app\n    startApp(appId, options, shadow);\n  }\n\n}\n\n// Define the new element\n// https://developer.mozilla.org/en-US/docs/Web/API/Window/customElements\ncustomElements.define('dwv-simple', DwvComponent);\n"],"names":["module","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","id","_k","push","cssMapping","btoa","base64","unescape","encodeURIComponent","JSON","stringify","data","sourceMapping","___CSS_LOADER_EXPORT___","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","y","__WEBPACK_EXTERNAL_MODULE_dwv__","x","_paths","Scroll","ZoomAndPan","WindowLevel","Draw","Reset","ToggleOrientation","Fullscreen","Tags","getToolButton","toolName","appGui","xmlns","path","document","createElementNS","setAttributeNS","svg","appendChild","button","createElement","getToolId","title","addEventListener","onDisplayReset","toggleOrientation","toggleFullScreen","openTagsModal","onChangeTool","getSelect","option","value","createTextNode","select","onChangePreset","Gui","constructor","app","tools","uid","rootDoc","init","toolbar","getElementById","getToolbarDivId","showProgressBar","progress","max","setProgress","percent","remove","getDwvDivId","getLayerGroupDivId","toLowerCase","enableTool","name","flag","toolId","disabled","enableTools","activateTool","classList","add","activateTools","getActiveLayerGroup","getViewLayersFromActive","getViewController","setWindowLevelPreset","setSelectedPreset","setTool","setToolFeatures","shapeName","lg","setActiveLayer","resetZoomPan","initialise","presetsId","selectedIndex","config","divId","orientation","setDataViewConfigs","dataIds","getDataIds","render","lgDivId","lgElement","fullscreenElement","exitFullscreen","style","height","fsDivId","requestFullscreen","then","modalId","modalDiv","display","className","event","target","modalContentDiv","modalTitle","modalScrollDiv","metaData","getMetaData","instanceElement","instanceNumbers","instanceNumberValue","Number","sort","b","instanceNumber","slider","type","min","sliderLabel","for","sliderLine","metaTab","arrayToHtmlTable","getMetaArray","replaceChildren","metaTable","updatePresets","presets","domPresets","hasChildNodes","removeChild","firstChild","label","index","options","arr","table","row","cell","insertRow","item0","keys","j","th","createTHead","hcell","charAt","toUpperCase","slice","meta","reducer","tagData","isDicomMeta","accumulator","currentValue","getDicomTagReducer","reduce","prefix","tag","getTagFromKey","getNameFromDictionary","getKey","element","vr","sqItems","res","DropboxLoader","showDropbox","stopPropagation","preventDefault","box","indexOf","replace","loadFiles","dataTransfer","files","show","layerDiv","innerHTML","p","input","onchange","multiple","htmlFor","link","setAttribute","removeEventListener","startApp","appOptions","dataViewConfigs","rootDocument","dwvApp","App","guiTools","wlIndex","splice","dwvAppGui","abortOnCrtlX","ctrlKey","keyCode","console","log","abortLoad","nLoadItem","nReceivedLoadError","nReceivedLoadAbort","isFirstRender","window","Math","ceil","loaded","total","vc","getViewLayersByDataId","dataid","selectedTool","canScroll","isMonochrome","wlpreset","hasExtraPreset","wl","center","width","addWindowLevelPresets","getWindowLevelPresetsNames","error","message","alert","warn","dropBoxLoader","defaultOnKeydown","onResize","viewController","uri","loadFromUri","urls","loadURLs","DwvComponent","HTMLElement","super","connectedCallback","appId","hasAttribute","getAttribute","crypto","randomUUID","substring","container","part","layerGroup","dropBox","dwvLink","href","para","getDwvVersion","legend","extraCss","styleElement","styles","shadow","attachShadow","mode","trimItem","trim","split","location","search","customElements","define"],"sourceRoot":""}